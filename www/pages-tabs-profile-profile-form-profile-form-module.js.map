{"version":3,"sources":["webpack:///./src/app/pages/tabs/profile/profile-form/profile-form.module.ts","webpack:///./src/app/pages/tabs/profile/profile-form/profile-form.page.html","webpack:///./src/app/pages/tabs/profile/profile-form/profile-form.page.scss","webpack:///./src/app/pages/tabs/profile/profile-form/profile-form.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACiB;AACT;AAEV;AAES;AAEtD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kEAAe;KAC3B;CACF,CAAC;AAYF;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QAVjC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,kEAAmB;gBACnB,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,kEAAe,CAAC;SAChC,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;AC1BlC,utD;;;;;;;;;;;ACAA,+DAA+D,+K;;;;;;;;;;;;;;;;;;;;ACAb;AAEiB;AACD;AAE3B;AAOvC;IAKE,yBACY,WAAwB,EACxB,EAAe,EACf,MAAc;QAFd,gBAAW,GAAX,WAAW,CAAa;QACxB,OAAE,GAAF,EAAE,CAAa;QACf,WAAM,GAAN,MAAM,CAAQ;QAJnB,cAAS,GAAS,0BAA0B,CAAC;QAOlD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;QACpD,2CAA2C;IAC7C,CAAC;IAED,kCAAQ,GAAR;QACE,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAEM,2CAAiB,GAAxB;QACE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC/B,IAAI,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAClD,WAAW,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;YACpC,KAAK,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;SAEhC,CAAC,CAAC;IACL,CAAC;IAID,oCAAU,GAAV,UAAW,CAAC;QACV,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,EAAE;YAC9B,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;YACjC,OAAM;SACP;QACD,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACf,IAAI,IAAI,GAAS,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnC,iCAAiC;IACnC,CAAC;IAEM,oCAAU,GAAjB;QAAA,iBAWC;QAVC,IAAM,IAAI,GAAS;YACjB,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE;YACvB,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK;YACxC,KAAK,EAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,KAAK;YACzC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW;YACzC,eAAe,EAAE,IAAI,CAAC,WAAW,CAAC,eAAe,EAAC,CAAC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YACvF,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM,EAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAC5D,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM,EAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;SAC7D,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,gBAAM,IAAI,YAAI,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,EAAjC,CAAiC,CAAC,CAAC;IACtF,CAAC;IAnDU,eAAe;QAL3B,+DAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;YAC5B,iIAAuC;;SAExC,CAAC;+EAOyB,uEAAW;YACpB,0DAAW;YACP,sDAAM;OARf,eAAe,CAyD3B;IAAD,sBAAC;CAAA;AAzD2B","file":"pages-tabs-profile-profile-form-profile-form-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfileFormPage } from './profile-form.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfileFormPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProfileFormPage]\n})\nexport class ProfileFormPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Profile</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n<!--  <form #f=\\\"ngForm\\\" (ngSubmit)=\\\"uploadAvatar(f)\\\">\\n    <ion-grid>\\n      <ion-row justify-content-center>\\n        <ion-col align-self-center size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\n          <div text-center>\\n            <h3>Update your profile photo</h3>\\n          </div>\\n          <div padding>\\n            <ion-item>\\n              <img alt=\\\"avatar\\\" [src]=\\\"currentUser?.photo || '/assets/icon/favicon.png'\\\">\\n\\n            </ion-item>\\n            <ion-item>\\n              <input name=\\\"file\\\" type=\\\"file\\\" accept=\\\"image/x-png,image/jpeg\\\" (change)=\\\"attachFile($event)\\\" ngModel required />\\n            </ion-item>\\n          </div>\\n          <div padding>\\n            <ion-button size=\\\"large\\\" type=\\\"submit\\\" [disabled]=\\\"f.invalid\\\" expand=\\\"block\\\">Update photo</ion-button>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>-->\\n  <form [formGroup]=\\\"profileForm\\\">\\n\\n    <ion-item>\\n      <ion-icon name=\\\"person\\\" slot=\\\"start\\\"></ion-icon>\\n      <ion-label>Display Name</ion-label>\\n      <ion-input formControlName=\\\"name\\\" required></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-icon name=\\\"call\\\" slot=\\\"start\\\"></ion-icon>\\n      <ion-label>Phone Number</ion-label>\\n      <input formControlName=\\\"phoneNumber\\\" disabled>\\n    </ion-item>\\n    <ion-button expand=\\\"full\\\" type=\\\"submit\\\" (click)=\\\"updateUser()\\\"\\n                [disabled]=\\\"profileForm.invalid\\\">\\n      Save\\n    </ion-button>\\n  </form>\\n\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3RhYnMvcHJvZmlsZS9wcm9maWxlLWZvcm0vcHJvZmlsZS1mb3JtLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport {User} from '../../../../shared/models/User';\nimport {UserService} from '../../../../core/services/user.service';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {Ride} from '../../../../shared/models/Ride';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-profile-form',\n  templateUrl: './profile-form.page.html',\n  styleUrls: ['./profile-form.page.scss'],\n})\nexport class ProfileFormPage implements OnInit {\n\n  public currentUser: User;\n  public profileForm: FormGroup;\n  public picToView:string= '/assets/icon/favicon.png';\n  constructor(\n      private userService: UserService,\n      private fb: FormBuilder,\n      private router: Router\n\n  ) {\n    this.currentUser = this.userService.user.getValue();\n    // this.picToView = this.currentUser.photo;\n  }\n\n  ngOnInit() {\n    this.createProfileForm();\n  }\n\n  public createProfileForm(): void {\n    this.profileForm = this.fb.group({\n      name: [this.currentUser.name, Validators.required],\n      phoneNumber: [this.currentUser.name],\n      photo: [this.currentUser.photo]\n\n    });\n  }\n\n\n\n  attachFile(e){\n    if (e.target.files.length == 0) {\n      console.log(\"No file selected!\");\n      return\n    }\n    console.log(e);\n    let file: File = e.target.files[0];\n    // this.currentUser.photo = file;\n  }\n\n  public updateUser(): void {\n    const user: User = {\n      id: this.currentUser.id,\n      name: this.profileForm.get('name').value,\n      photo:this.profileForm.get('photo').value,\n      phoneNumber: this.currentUser.phoneNumber,\n      numberOfRatings: this.currentUser.numberOfRatings? this.currentUser.numberOfRatings : 0,\n      rating: this.currentUser.rating? this.currentUser.rating : 0,\n      points: this.currentUser.points? this.currentUser.points : 0\n    };\n    this.userService.updateUser(user).then(result => this.router.navigateByUrl('tabs'));\n  }\n\n\n\n\n\n}\n"],"sourceRoot":""}