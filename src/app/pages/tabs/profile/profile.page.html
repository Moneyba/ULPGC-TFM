<ion-header>
  <ion-toolbar color="primary">
    <ion-title text-center>{{ 'PROFILE.profile' | translate:params }}</ion-title>
    <ion-icon id="icon-more" name="md-more" slot="end" (click)="presentPopover($event)"></ion-icon>
  </ion-toolbar>

</ion-header>

<ion-content>

  <div class="user-photo" padding-top>
    <ion-avatar>
      <img [src]="currentUser?.photo || '/assets/icon/favicon.jpg'">
    </ion-avatar>
  </div>

  <ion-list>
    <ion-item>
      <ion-icon name="person" slot="start"></ion-icon>
      <ion-label>
        <p>{{ 'PROFILE.displayName' | translate:params }}</p>
        <h2>{{currentUser?.name}}</h2>
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-icon name="call" slot="start"></ion-icon>
      <ion-label>
        <p>{{ 'PROFILE.phoneNumber' | translate:params }}</p>
        <h2>{{currentUser?.phoneNumber}}</h2>
      </ion-label>
    </ion-item>
    <ion-item *ngIf="currentUser?.carPlate">
      <ion-icon name="car" slot="start"></ion-icon>
      <ion-label>
        <p>{{ 'PROFILE.carDetails' | translate:params }}</p>
        <h2>{{currentUser?.carDetails}}</h2>
      </ion-label>
    </ion-item>
    <ion-item (click)="goToPublicProfilePage()">
      <ion-icon name="star" slot="start"></ion-icon>
      <ion-label>
        <p>{{ 'PROFILE.rating' | translate:params }}</p>
        <h2 *ngIf="currentUser?.averageRating">{{currentUser?.averageRating}}/5 - {{currentUser?.numberOfRatings}} ratings</h2>
        <h2 *ngIf="!currentUser?.averageRating">{{ 'PROFILE.noRatings' | translate:params }}</h2>
      </ion-label>
      <ion-icon name="ios-arrow-forward" slot="end"></ion-icon>
    </ion-item>
    <ion-item (click)="gotoRewardsCatalogPage()">
      <ion-icon name="gift" slot="start"></ion-icon>
      <ion-label>
        <p>{{ 'PROFILE.earnedPoints' | translate:params }}</p>
        <h2>{{currentUser?.points?.currentPoints - currentUser?.points.blockedPoints}}</h2>
      </ion-label>
      <ion-icon name="ios-arrow-forward" slot="end"></ion-icon>
    </ion-item>

  </ion-list>
</ion-content>
