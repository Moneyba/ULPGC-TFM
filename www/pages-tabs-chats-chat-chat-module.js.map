{"version":3,"sources":["webpack:///./src/app/core/services/ride.service.ts","webpack:///./src/app/pages/tabs/chats/chat/chat-options/chat-options.component.html","webpack:///./src/app/pages/tabs/chats/chat/chat-options/chat-options.component.scss","webpack:///./src/app/pages/tabs/chats/chat/chat-options/chat-options.component.ts","webpack:///./src/app/pages/tabs/chats/chat/chat-page.component.html","webpack:///./src/app/pages/tabs/chats/chat/chat-page.component.scss","webpack:///./src/app/pages/tabs/chats/chat/chat-page.component.ts","webpack:///./src/app/pages/tabs/chats/chat/chat.module.ts"],"names":[],"mappings":"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","file":"pages-tabs-chats-chat-chat-module.js","sourcesContent":["import {Injectable} from '@angular/core';\nimport {Ride} from '../../shared/models/Ride';\nimport {AngularFireDatabase} from '@angular/fire/database';\nimport {Observable} from 'rxjs';\nimport {Request} from '../../shared/models/Request';\nimport {User} from '../../shared/models/User';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class RideService {\n    private collectionEndPoint = 'rides';\n\n    constructor(private db: AngularFireDatabase) {\n    }\n\n    public createRide(ride: Ride): Promise<void> {\n        ride.id = this.db.createPushId();\n        return this.db.object<Ride>(`${this.collectionEndPoint}/${ride.id}`).set(ride);\n    }\n\n    public updateRide(ride: Ride): Promise<void> {\n        return this.db.object<Ride>(`${this.collectionEndPoint}/${ride.id}`).update(ride);\n    }\n\n    public deleteRide(rideId: string): Promise<void> {\n        return this.db.object<Ride>(`${this.collectionEndPoint}/${rideId}`).remove();\n    }\n\n    public getRides(): Observable<Ride[]> {\n        return this.db.list<Ride>(this.collectionEndPoint, ref => ref.orderByChild('dateTime')\n            .startAt(new Date().getTime())).valueChanges();\n    }\n\n    public getRidesByUserId(userId: string): Observable<Ride[]> {\n        return this.db.list<Ride>(this.collectionEndPoint, ref => ref.orderByChild('userId').equalTo(userId)).valueChanges();\n    }\n\n    public getRide(rideId: string): Observable<Ride> {\n        return this.db.object<Ride>(`${this.collectionEndPoint}/${rideId}`).valueChanges();\n    }\n}\n","module.exports = \"<ion-list>\\n  <ion-list-header>Chat Options</ion-list-header>\\n  <ion-item button (click)=\\\"blockUser()\\\"  *ngIf=\\\"!isOtherUserBlocked\\\">Block User</ion-item>\\n  <ion-item button (click)=\\\"unblockUser()\\\" *ngIf=\\\"isOtherUserBlocked\\\">Unblock User</ion-item>\\n  <ion-item button (click)=\\\"presentAlertConfirm()\\\">Delete Chat</ion-item>\\n</ion-list>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3RhYnMvY2hhdHMvY2hhdC9jaGF0LW9wdGlvbnMvY2hhdC1vcHRpb25zLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport {AlertController, NavParams, PopoverController} from '@ionic/angular';\nimport {ChatService} from '../../../../../core/services/chat.service';\nimport {UserService} from '../../../../../core/services/user.service';\nimport {Chat} from '../../../../../shared/models/Chat';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-chat-options',\n  templateUrl: './chat-options.component.html',\n  styleUrls: ['./chat-options.component.scss'],\n})\nexport class ChatOptionsComponent implements OnInit {\n  private chatId: string;\n  private otherUserId: string;\n  public isOtherUserBlocked: boolean\n\n  constructor(private router: Router,\n              private alertController: AlertController,\n              private chatService: ChatService,\n              private userService: UserService,\n              private navParams: NavParams,\n              private popoverController: PopoverController) {\n    this.chatId = this.navParams.data.chatId;\n    this.otherUserId = this.navParams.data.otherUserId;\n    this.isOtherUserBlocked = this.navParams.data.isOtherUserBlocked;\n  }\n\n  ngOnInit() {}\n\n  public   async presentAlertConfirm() {\n    const alert = await this.alertController.create({\n      header: 'Cancel Ride',\n      message: 'Are you sure you want to delete this chat?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n          }\n        }, {\n          text: 'Yes',\n          handler: () => {\n            this.popoverController.dismiss();\n            this.chatService.deleteChat(this.chatId);\n            this.router.navigateByUrl('tabs/tabs/chats');\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  public blockUser(): void {\n    this.isOtherUserBlocked = true;\n    this.popoverController.dismiss(this.isOtherUserBlocked);\n    this.userService.blockUser(this.otherUserId);\n  }\n\n  public unblockUser(): void {\n    this.isOtherUserBlocked = false;\n    this.popoverController.dismiss(this.isOtherUserBlocked);\n    this.userService.unBlockUser(this.otherUserId);\n  }\n\n}\n","module.exports = \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-title (click)=\\\"goToRidePlanPage()\\\">{{ride?.originName}}\\n            -\\n            {{ride?.destinationName}}</ion-title>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button></ion-back-button>\\n        </ion-buttons>\\n        <ion-icon id=\\\"icon-more\\\" name=\\\"md-more\\\" slot=\\\"end\\\" (click)=\\\"presentPopover($event)\\\"></ion-icon>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n\\n    <div class=\\\"message-area\\\" *ngIf=\\\"chat\\\">\\n        <div class=\\\"message\\\" *ngFor=\\\"let message of messages\\\" [ngClass]=\\\"getClasses(message)\\\">\\n            <ion-avatar *ngIf=\\\"message.fromUserId != currentUser.id\\\" (click)=\\\"goToDriverDetailsPage()\\\">\\n                <img src=\\\"{{otherUser?.photo}}\\\"></ion-avatar>\\n            <p>{{message.content}}</p>\\n            <span>{{message.date}}</span>\\n        </div>\\n        <ion-card-subtitle *ngIf=\\\"isCurrentUserBlocked\\\" text-center>\\n            I'm sorry, you can't send messages to this user</ion-card-subtitle>\\n        <ion-card-subtitle *ngIf=\\\"isOtherUserBlocked\\\" text-center>\\n            You have blocked this user</ion-card-subtitle>\\n    </div>\\n\\n\\n</ion-content>\\n\\n<ion-footer>\\n    <ion-toolbar>\\n        <ion-textarea [(ngModel)]=\\\"msg\\\" class=\\\"message-input\\\" placeholder=\\\"Type a message here\\\" rows=\\\"1\\\"\\n                      (keydown.enter)=\\\"sendMessage();true\\\"></ion-textarea>\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-button color=\\\"primary\\\" (click)=\\\"sendMessage()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"md-send\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-footer>\\n\"","module.exports = \":host #icon-more {\\n  font-size: 20px;\\n  margin-right: 5px; }\\n\\n:host .message-area {\\n  min-height: 100%;\\n  width: 100%;\\n  position: relative;\\n  overflow: auto;\\n  padding: 15px 10px; }\\n\\n:host .message-area .message p {\\n    color: black;\\n    font-size: 13px;\\n    font-weight: bold;\\n    max-width: 95%;\\n    min-width: 55%;\\n    box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.1);\\n    padding: 10px 15px 10px 7px;\\n    margin: 5px 0;\\n    background: #bedfff; }\\n\\n:host .message-area .message.incoming {\\n    display: -webkit-flex;\\n    display: flex;\\n    -webkit-flex-direction: row;\\n            flex-direction: row;\\n    -webkit-justify-content: flex-start;\\n            justify-content: flex-start;\\n    -webkit-align-items: flex-start;\\n            align-items: flex-start; }\\n\\n:host .message-area .message.incoming p {\\n      border-radius: 0 11px 11px 11px;\\n      background: #ffe9d1; }\\n\\n:host .message-area .message.incoming ion-avatar {\\n      margin-right: 3px !important; }\\n\\n:host .message-area .message.incoming ion-avatar img {\\n        min-width: 40px;\\n        max-width: 40px;\\n        height: 40px; }\\n\\n:host .message-area .message.outgoing {\\n    display: -webkit-flex;\\n    display: flex;\\n    -webkit-flex-direction: column;\\n            flex-direction: column;\\n    -webkit-justify-content: flex-end;\\n            justify-content: flex-end;\\n    -webkit-align-items: flex-end;\\n            align-items: flex-end; }\\n\\n:host .message-area .message.outgoing p {\\n      color: black;\\n      border-radius: 11px 11px 0 11px; }\\n\\n:host ion-footer {\\n  --ion-toolbar-background-color: var(--ion-color-white); }\\n\\n:host ion-footer .message-input {\\n    padding-left: 8px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tb25leWJhL0Rlc2t0b3AvdW50aXRsZWQgZm9sZGVyL3RmbS9zcmMvYXBwL3BhZ2VzL3RhYnMvY2hhdHMvY2hhdC9jaGF0LXBhZ2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSxlQUFlO0VBQ2YsaUJBQWlCLEVBQUE7O0FBSHJCO0VBT0ksZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsY0FBYztFQUNkLGtCQUFrQixFQUFBOztBQVh0QjtJQWlCUSxZQUFZO0lBQ1osZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixjQUFjO0lBQ2QsY0FBYztJQUNkLDBDQUEwQztJQUMxQywyQkFBMkI7SUFDM0IsYUFBYTtJQUNiLG1CQUFtQixFQUFBOztBQXpCM0I7SUErQk0scUJBQWE7SUFBYixhQUFhO0lBQ2IsMkJBQW1CO1lBQW5CLG1CQUFtQjtJQUNuQixtQ0FBMkI7WUFBM0IsMkJBQTJCO0lBQzNCLCtCQUF1QjtZQUF2Qix1QkFBdUIsRUFBQTs7QUFsQzdCO01BcUNRLCtCQUErQjtNQUMvQixtQkFBb0IsRUFBQTs7QUF0QzVCO01BMENRLDRCQUE0QixFQUFBOztBQTFDcEM7UUE2Q1UsZUFBZTtRQUNmLGVBQWU7UUFDZixZQUFZLEVBQUE7O0FBL0N0QjtJQXFETSxxQkFBYTtJQUFiLGFBQWE7SUFDYiw4QkFBc0I7WUFBdEIsc0JBQXNCO0lBQ3RCLGlDQUF5QjtZQUF6Qix5QkFBeUI7SUFDekIsNkJBQXFCO1lBQXJCLHFCQUFxQixFQUFBOztBQXhEM0I7TUEyRFEsWUFBWTtNQUNaLCtCQUErQixFQUFBOztBQTVEdkM7RUFrRUksc0RBQStCLEVBQUE7O0FBbEVuQztJQXFFTSxpQkFBaUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3RhYnMvY2hhdHMvY2hhdC9jaGF0LXBhZ2UuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gICNpY29uLW1vcmV7XG4gICAgZm9udC1zaXplOiAyMHB4O1xuICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICB9XG5cbiAgLm1lc3NhZ2UtYXJlYSB7XG4gICAgbWluLWhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgcGFkZGluZzogMTVweCAxMHB4O1xuXG5cbiAgICAubWVzc2FnZSB7XG5cbiAgICAgIHAge1xuICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIG1heC13aWR0aDogOTUlO1xuICAgICAgICBtaW4td2lkdGg6IDU1JTtcbiAgICAgICAgYm94LXNoYWRvdzogMCAxcHggMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDE1cHggMTBweCA3cHg7XG4gICAgICAgIG1hcmdpbjogNXB4IDA7XG4gICAgICAgIGJhY2tncm91bmQ6ICNiZWRmZmY7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICAubWVzc2FnZS5pbmNvbWluZyB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuXG4gICAgICBwIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMCAxMXB4IDExcHggMTFweDtcbiAgICAgICAgYmFja2dyb3VuZDogICNmZmU5ZDE7XG4gICAgICB9XG5cbiAgICAgIGlvbi1hdmF0YXIge1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDNweCAhaW1wb3J0YW50O1xuXG4gICAgICAgIGltZyB7XG4gICAgICAgICAgbWluLXdpZHRoOiA0MHB4O1xuICAgICAgICAgIG1heC13aWR0aDogNDBweDtcbiAgICAgICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAubWVzc2FnZS5vdXRnb2luZyB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG5cbiAgICAgIHAge1xuICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDExcHggMTFweCAwIDExcHg7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW9uLWZvb3RlciB7XG4gICAgLS1pb24tdG9vbGJhci1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3Itd2hpdGUpO1xuXG4gICAgLm1lc3NhZ2UtaW5wdXQge1xuICAgICAgcGFkZGluZy1sZWZ0OiA4cHg7XG4gICAgfVxuICB9XG5cbn1cbiJdfQ== */\"","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute, NavigationExtras, Router} from '@angular/router';\nimport {User} from '../../../../shared/models/User';\nimport {Chat} from '../../../../shared/models/Chat';\nimport {Ride} from '../../../../shared/models/Ride';\nimport {Message} from '../../../../shared/models/Message';\nimport {ChatService} from '../../../../core/services/chat.service';\nimport {UserService} from '../../../../core/services/user.service';\nimport {RideService} from '../../../../core/services/ride.service';\nimport {IonContent, PopoverController} from '@ionic/angular';\nimport {ProfilePopoverComponent} from '../../profile/profile-popover/profile-popover.component';\nimport {ChatOptionsComponent} from './chat-options/chat-options.component';\n\n@Component({\n    selector: 'app-chat',\n    templateUrl: './chat-page.component.html',\n    styleUrls: ['./chat-page.component.scss'],\n})\nexport class ChatPage implements OnInit {\n    public chat: Chat;\n    public currentUser: User;\n    public otherUser: User;\n    public ride: Ride;\n    public isOtherUserBlocked: boolean;\n    public isCurrentUserBlocked: boolean;\n\n    public messages: Message[] = [];\n    public msg: string;\n    @ViewChild(IonContent) content: IonContent;\n\n    private chatId: string;\n\n    constructor(private route: ActivatedRoute,\n                private router: Router,\n                private chatService: ChatService,\n                private userService: UserService,\n                private rideService: RideService,\n                private popoverController: PopoverController\n    ) {\n        this.currentUser = this.userService.user.getValue();\n\n\n        this.route.queryParams.subscribe(params => {\n            if (this.router.getCurrentNavigation().extras.state) {\n                this.chatId = this.router.getCurrentNavigation().extras.state.chatId;\n                this.getChat(this.chatId);\n            }\n        });\n\n    }\n\n    ngOnInit() {\n    }\n\n    ionViewWillEnter() {\n        this.scrollBottom();\n        this.getChat(this.chatId);\n    }\n\n    public getChat(chatId: string): void {\n        this.chatService.getChat(chatId).subscribe((chat: Chat) => {\n            this.chat = chat;\n            this.messages = this.getArrayFromObject(chat.messages);\n            this.getRide();\n            this.getOtherUser();\n\n        });\n    }\n\n    private getRide(): void {\n        this.rideService.getRide(this.chat.rideId).subscribe(ride => this.ride = ride);\n    }\n\n    public getArrayFromObject(object): any[] {\n        return Object.keys(object || {}).map(key => object[key]);\n    }\n\n    private getCurrentBlockList(): void {\n        this.userService.getBlockList(this.currentUser.id).subscribe(blockList => {\n            blockList.forEach(userId => {\n                if (userId === this.otherUser.id) {\n                    this.isOtherUserBlocked = true;\n                }\n            });\n        });\n    }\n\n    private getOtherUserBlockList(): void {\n        this.userService.getBlockList(this.otherUser.id).subscribe(blockList => {\n            blockList.forEach(userId => {\n                if (userId === this.currentUser.id) {\n                    this.isCurrentUserBlocked = true;\n                }\n            });\n        });\n    }\n\n\n    public sendMessage(): void {\n        if (this.msg) {\n            const message: Message = {\n                content: this.msg,\n                date: new Date(),\n                fromUserId: this.currentUser.id,\n                fromUserName: this.currentUser.name,\n                toUserId: this.getReceiver()\n            };\n\n            if (!this.isCurrentUserBlocked && !this.isOtherUserBlocked) {\n                this.chatService.sendMessage(message, this.chat.id).then(() => this.getChat(this.chat.id));\n            } else {\n                console.log('blocked');\n            }\n            this.msg = '';\n            this.scrollBottom();\n        }\n\n\n    }\n\n    public scrollBottom() {\n        this.content.scrollToBottom(300);\n    }\n\n    private getReceiver(): string {\n        return this.currentUser.id === this.chat.passengerUser ? this.chat.driverUser : this.chat.passengerUser;\n    }\n\n    public goToRidePlanPage(): void {\n        const navigationExtras: NavigationExtras = {\n            state: {\n                rideId: this.chat.rideId\n            }\n        };\n        this.router.navigate(['ride-plan'], navigationExtras);\n    }\n\n    public getOtherUser(): void {\n        if (this.chat.passengerUser === this.currentUser.id) {\n            this.userService.getUser(this.chat.driverUser).subscribe(user => {\n                this.otherUser = user;\n                this.getOtherUserBlockList();\n                this.getCurrentBlockList();\n            });\n        } else {\n            this.userService.getUser(this.chat.passengerUser).subscribe(user => {\n                this.otherUser = user;\n                this.getOtherUserBlockList();\n                this.getCurrentBlockList();\n            });\n        }\n    }\n\n    public gotoUserProfile(userId: string): void {\n        const navigationExtras: NavigationExtras = {\n            state: {\n                userId\n            }\n        };\n        this.router.navigate(['public-profile'], navigationExtras);\n    }\n\n    public getClasses(message): any {\n        return {\n            incoming: message.fromUserId !== this.currentUser.id,\n            outgoing: message.fromUserId === this.currentUser.id,\n        };\n    }\n\n    public goToDriverDetailsPage(): void {\n        const navigationExtras: NavigationExtras = {\n            state: {\n                userId: this.otherUser.id\n            }\n        };\n        this.router.navigate(['public-profile'], navigationExtras);\n    }\n\n    public blockUser(userId: string): void {\n        this.isOtherUserBlocked = true;\n        this.userService.blockUser(userId);\n    }\n\n    public unblockUser(userId: string): void {\n        this.isOtherUserBlocked = false;\n        this.userService.unBlockUser(userId);\n    }\n\n    public async presentPopover(event: any) {\n        const popover = await this.popoverController.create({\n            component: ChatOptionsComponent,\n            event,\n            componentProps: {\n                chatId: this.chat.id,\n                otherUserId: this.otherUser.id,\n                isOtherUserBlocked: this.isOtherUserBlocked\n            }\n\n        });\n\n        popover.onDidDismiss().then((dataReturned) => {\n            if (dataReturned !== null) {\n                this.isOtherUserBlocked = dataReturned.data;\n                // alert('Modal Sent Data :'+ dataReturned);\n            }\n        });\n        return await popover.present().then();\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatPage } from './chat-page.component';\nimport {ChatOptionsComponent} from './chat-options/chat-options.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ChatPage, ChatOptionsComponent],\n  entryComponents: [ChatOptionsComponent]\n})\nexport class ChatPageModule {}\n"],"sourceRoot":""}