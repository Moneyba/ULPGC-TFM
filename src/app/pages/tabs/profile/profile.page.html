<ion-header>
  <ion-toolbar color="primary">
    <ion-title text-center>Profile</ion-title>
    <ion-icon id="icon-more" name="md-more" slot="end" (click)="presentPopover($event)"></ion-icon>
  </ion-toolbar>

</ion-header>

<ion-content>

  <div class="user-photo" padding-top>
    <ion-avatar>
      <img [src]="currentUser?.photo || '/assets/icon/favicon.jpg'">
    </ion-avatar>
  </div>

  <ion-list>
    <ion-item>
      <ion-icon name="person" slot="start"></ion-icon>
      <ion-label>
        <p>Display Name</p>
        <h2>{{currentUser?.name}}</h2>
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-icon name="call" slot="start"></ion-icon>
      <ion-label>
        <p>Mobile Phone Number</p>
        <h2>{{currentUser?.phoneNumber}}</h2>
      </ion-label>
    </ion-item>
    <ion-item (click)="goToPublicProfilePage()">
      <ion-icon name="star" slot="start"></ion-icon>
      <ion-label>
        <p>Rating</p>
        <h2 *ngIf="currentUser?.averageRating">{{currentUser?.averageRating}}/5 - {{currentUser?.numberOfRatings}} ratings</h2>
        <h2 *ngIf="!currentUser?.averageRating">No ratings yet</h2>
      </ion-label>
    </ion-item>
    <ion-item (click)="gotoRewardsCatalogPage()">
      <ion-icon name="gift" slot="start"></ion-icon>
      <ion-label>
        <p>Earned Points</p>
        <h2>{{currentUser?.points.currentPoints}}</h2>
      </ion-label>
    </ion-item>
    <ion-item *ngIf="currentUser?.carPlate">
      <ion-icon name="car" slot="start"></ion-icon>
      <ion-label>
        <p>Car Plate</p>
        <h2>{{currentUser?.carPlate}}</h2>
      </ion-label>
    </ion-item>
  </ion-list>
    <!--<ion-button (click)="gotoSetup()">Setup</ion-button>-->
</ion-content>
