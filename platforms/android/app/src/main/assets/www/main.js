(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm-es5 lazy ^\.\/.*\.entry\.js$ include: \.entry\.js$ exclude: \.system\.entry\.js$ namespace object ***!
  \*********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./ion-action-sheet-controller_8.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-controller_8.entry.js",
		"common",
		12
	],
	"./ion-action-sheet-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-ios.entry.js",
		"common",
		13
	],
	"./ion-action-sheet-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-md.entry.js",
		"common",
		14
	],
	"./ion-alert-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-alert-ios.entry.js",
		"common",
		15
	],
	"./ion-alert-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-alert-md.entry.js",
		"common",
		16
	],
	"./ion-app_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-ios.entry.js",
		0,
		"common",
		17
	],
	"./ion-app_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-md.entry.js",
		0,
		"common",
		18
	],
	"./ion-avatar_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-ios.entry.js",
		"common",
		19
	],
	"./ion-avatar_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-md.entry.js",
		"common",
		20
	],
	"./ion-back-button-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-ios.entry.js",
		"common",
		21
	],
	"./ion-back-button-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-md.entry.js",
		"common",
		22
	],
	"./ion-backdrop-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-ios.entry.js",
		23
	],
	"./ion-backdrop-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-md.entry.js",
		24
	],
	"./ion-button_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-ios.entry.js",
		"common",
		25
	],
	"./ion-button_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-md.entry.js",
		"common",
		26
	],
	"./ion-card_5-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-ios.entry.js",
		"common",
		27
	],
	"./ion-card_5-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-md.entry.js",
		"common",
		28
	],
	"./ion-checkbox-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-ios.entry.js",
		"common",
		29
	],
	"./ion-checkbox-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-md.entry.js",
		"common",
		30
	],
	"./ion-chip-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-chip-ios.entry.js",
		"common",
		31
	],
	"./ion-chip-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-chip-md.entry.js",
		"common",
		32
	],
	"./ion-col_3.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-col_3.entry.js",
		33
	],
	"./ion-datetime_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-ios.entry.js",
		"common",
		34
	],
	"./ion-datetime_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-md.entry.js",
		"common",
		35
	],
	"./ion-fab_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-ios.entry.js",
		"common",
		36
	],
	"./ion-fab_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-md.entry.js",
		"common",
		37
	],
	"./ion-img.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-img.entry.js",
		38
	],
	"./ion-infinite-scroll_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-ios.entry.js",
		"common",
		39
	],
	"./ion-infinite-scroll_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-md.entry.js",
		"common",
		40
	],
	"./ion-input-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-input-ios.entry.js",
		"common",
		41
	],
	"./ion-input-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-input-md.entry.js",
		"common",
		42
	],
	"./ion-item-option_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-ios.entry.js",
		"common",
		43
	],
	"./ion-item-option_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-md.entry.js",
		"common",
		44
	],
	"./ion-item_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-ios.entry.js",
		"common",
		45
	],
	"./ion-item_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-md.entry.js",
		"common",
		46
	],
	"./ion-loading-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-loading-ios.entry.js",
		"common",
		47
	],
	"./ion-loading-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-loading-md.entry.js",
		"common",
		48
	],
	"./ion-menu_4-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-ios.entry.js",
		"common",
		49
	],
	"./ion-menu_4-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-md.entry.js",
		"common",
		50
	],
	"./ion-modal-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-modal-ios.entry.js",
		0,
		"common",
		51
	],
	"./ion-modal-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-modal-md.entry.js",
		0,
		"common",
		52
	],
	"./ion-nav_5.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-nav_5.entry.js",
		0,
		"common",
		53
	],
	"./ion-popover-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-popover-ios.entry.js",
		0,
		"common",
		54
	],
	"./ion-popover-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-popover-md.entry.js",
		0,
		"common",
		55
	],
	"./ion-progress-bar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-ios.entry.js",
		"common",
		56
	],
	"./ion-progress-bar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-md.entry.js",
		"common",
		57
	],
	"./ion-radio_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-ios.entry.js",
		"common",
		58
	],
	"./ion-radio_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-md.entry.js",
		"common",
		59
	],
	"./ion-range-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-range-ios.entry.js",
		"common",
		60
	],
	"./ion-range-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-range-md.entry.js",
		"common",
		61
	],
	"./ion-refresher_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-ios.entry.js",
		"common",
		62
	],
	"./ion-refresher_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-md.entry.js",
		"common",
		63
	],
	"./ion-reorder_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-ios.entry.js",
		"common",
		64
	],
	"./ion-reorder_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-md.entry.js",
		"common",
		65
	],
	"./ion-ripple-effect.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-ripple-effect.entry.js",
		66
	],
	"./ion-route_4.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-route_4.entry.js",
		"common",
		67
	],
	"./ion-searchbar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-ios.entry.js",
		"common",
		68
	],
	"./ion-searchbar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-md.entry.js",
		"common",
		69
	],
	"./ion-segment_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-ios.entry.js",
		"common",
		70
	],
	"./ion-segment_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-md.entry.js",
		"common",
		71
	],
	"./ion-select_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-ios.entry.js",
		"common",
		72
	],
	"./ion-select_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-md.entry.js",
		"common",
		73
	],
	"./ion-slide_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-ios.entry.js",
		74
	],
	"./ion-slide_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-md.entry.js",
		75
	],
	"./ion-spinner.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-spinner.entry.js",
		"common",
		76
	],
	"./ion-split-pane-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-ios.entry.js",
		77
	],
	"./ion-split-pane-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-md.entry.js",
		78
	],
	"./ion-tab-bar_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-ios.entry.js",
		"common",
		79
	],
	"./ion-tab-bar_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-md.entry.js",
		"common",
		80
	],
	"./ion-tab_2.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab_2.entry.js",
		"common",
		9
	],
	"./ion-text.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-text.entry.js",
		"common",
		81
	],
	"./ion-textarea-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-ios.entry.js",
		"common",
		82
	],
	"./ion-textarea-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-md.entry.js",
		"common",
		83
	],
	"./ion-toast-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toast-ios.entry.js",
		"common",
		84
	],
	"./ion-toast-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toast-md.entry.js",
		"common",
		85
	],
	"./ion-toggle-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-ios.entry.js",
		"common",
		86
	],
	"./ion-toggle-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-md.entry.js",
		"common",
		87
	],
	"./ion-virtual-scroll.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-virtual-scroll.entry.js",
		88
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./node_modules/ionic-angular/util lazy recursive":
/*!***************************************************************!*\
  !*** ./node_modules/ionic-angular/util lazy namespace object ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./node_modules/ionic-angular/util lazy recursive";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"../tabs/chats/chats.module": [
		"./src/app/pages/tabs/chats/chats.module.ts",
		"common",
		"tabs-chats-chats-module"
	],
	"../tabs/home/home.module": [
		"./src/app/pages/tabs/home/home.module.ts",
		"default~pages-tabs-home-ride-form-ride-form-module~tabs-home-home-module",
		"common",
		"tabs-home-home-module"
	],
	"../tabs/profile/profile.module": [
		"./src/app/pages/tabs/profile/profile.module.ts",
		"tabs-profile-profile-module"
	],
	"../tabs/rides/rides.module": [
		"./src/app/pages/tabs/rides/rides.module.ts",
		"common",
		"tabs-rides-rides-module"
	],
	"./pages/initial-setup/initial-setup.module": [
		"./src/app/pages/initial-setup/initial-setup.module.ts",
		"pages-initial-setup-initial-setup-module"
	],
	"./pages/login/login.module": [
		"./src/app/pages/login/login.module.ts",
		"common",
		"pages-login-login-module"
	],
	"./pages/tabs/chats/chat/chat.module": [
		"./src/app/pages/tabs/chats/chat/chat.module.ts",
		"common",
		"pages-tabs-chats-chat-chat-module"
	],
	"./pages/tabs/chats/chats.module": [
		"./src/app/pages/tabs/chats/chats.module.ts",
		"common",
		"tabs-chats-chats-module"
	],
	"./pages/tabs/home/ride-details/ride-details.module": [
		"./src/app/pages/tabs/home/ride-details/ride-details.module.ts",
		"default~pages-tabs-home-ride-details-ride-details-module~pages-tabs-home-ride-form-ride-form-module~~345d7eee",
		"common",
		"pages-tabs-home-ride-details-ride-details-module"
	],
	"./pages/tabs/home/ride-form/ride-form.module": [
		"./src/app/pages/tabs/home/ride-form/ride-form.module.ts",
		"default~pages-tabs-home-ride-details-ride-details-module~pages-tabs-home-ride-form-ride-form-module~~345d7eee",
		"default~pages-tabs-home-ride-form-ride-form-module~tabs-home-home-module",
		"common",
		"pages-tabs-home-ride-form-ride-form-module"
	],
	"./pages/tabs/profile/profile-form/profile-form.module": [
		"./src/app/pages/tabs/profile/profile-form/profile-form.module.ts"
	],
	"./pages/tabs/profile/profile.module": [
		"./src/app/pages/tabs/profile/profile.module.ts",
		"tabs-profile-profile-module"
	],
	"./pages/tabs/profile/public-profile/public-profile.module": [
		"./src/app/pages/tabs/profile/public-profile/public-profile.module.ts",
		"pages-tabs-profile-public-profile-public-profile-module"
	],
	"./pages/tabs/profile/rewards-catalog/reward-details/reward-details.module": [
		"./src/app/pages/tabs/profile/rewards-catalog/reward-details/reward-details.module.ts",
		"common",
		"pages-tabs-profile-rewards-catalog-reward-details-reward-details-module"
	],
	"./pages/tabs/profile/rewards-catalog/reward-form/reward-form.module": [
		"./src/app/pages/tabs/profile/rewards-catalog/reward-form/reward-form.module.ts",
		"common",
		"pages-tabs-profile-rewards-catalog-reward-form-reward-form-module"
	],
	"./pages/tabs/profile/rewards-catalog/rewards-catalog.module": [
		"./src/app/pages/tabs/profile/rewards-catalog/rewards-catalog.module.ts",
		"common",
		"pages-tabs-profile-rewards-catalog-rewards-catalog-module"
	],
	"./pages/tabs/rides/booked-ride-plan/booked-ride-plan.module": [
		"./src/app/pages/tabs/rides/booked-ride-plan/booked-ride-plan.module.ts",
		"default~pages-tabs-home-ride-details-ride-details-module~pages-tabs-home-ride-form-ride-form-module~~345d7eee",
		"common",
		"pages-tabs-rides-booked-ride-plan-booked-ride-plan-module"
	],
	"./pages/tabs/rides/ride-plan/ride-plan.module": [
		"./src/app/pages/tabs/rides/ride-plan/ride-plan.module.ts",
		"default~pages-tabs-home-ride-details-ride-details-module~pages-tabs-home-ride-form-ride-form-module~~345d7eee",
		"common",
		"pages-tabs-rides-ride-plan-ride-plan-module"
	],
	"./pages/tabs/rides/ride/ride.module": [
		"./src/app/pages/tabs/rides/ride/ride.module.ts"
	],
	"./pages/tabs/tabs.module": [
		"./src/app/pages/tabs/tabs.module.ts",
		"pages-tabs-tabs-module"
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");



var routes = [
    { path: '', redirectTo: 'tabs', pathMatch: 'full' },
    { path: 'tabs', loadChildren: './pages/tabs/tabs.module#TabsPageModule' },
    { path: 'chats/:price', loadChildren: './pages/tabs/chats/chats.module#ChatsPageModule' },
    { path: 'login', loadChildren: './pages/login/login.module#LoginPageModule' },
    { path: 'ride-form', loadChildren: './pages/tabs/home/ride-form/ride-form.module#RideFormPageModule' },
    { path: 'ride-details', loadChildren: './pages/tabs/home/ride-details/ride-details.module#RideDetailsPageModule' },
    { path: 'chat', loadChildren: './pages/tabs/chats/chat/chat.module#ChatPageModule' },
    { path: 'public-profile', loadChildren: './pages/tabs/profile/public-profile/public-profile.module#PublicProfilePageModule' },
    { path: 'ride-plan', loadChildren: './pages/tabs/rides/ride-plan/ride-plan.module#RidePlanPageModule' },
    { path: 'ride', loadChildren: './pages/tabs/rides/ride/ride.module#RidePageModule' },
    { path: 'profile-form', loadChildren: './pages/tabs/profile/profile-form/profile-form.module#ProfileFormPageModule' },
    { path: 'initial-setup', loadChildren: './pages/initial-setup/initial-setup.module#InitialSetupPageModule' },
    { path: 'profile', loadChildren: './pages/tabs/profile/profile.module#ProfilePageModule' },
    { path: 'booked-ride-plan', loadChildren: './pages/tabs/rides/booked-ride-plan/booked-ride-plan.module#BookedRidePlanPageModule' },
    { path: 'rewards-catalog', loadChildren: './pages/tabs/profile/rewards-catalog/rewards-catalog.module#RewardsCatalogPageModule' },
    { path: 'reward-form', loadChildren: './pages/tabs/profile/rewards-catalog/reward-form/reward-form.module#RewardFormPageModule' },
    { path: 'reward-details',
        loadChildren: './pages/tabs/profile/rewards-catalog/reward-details/reward-details.module#RewardDetailsPageModule' }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes, { preloadingStrategy: _angular_router__WEBPACK_IMPORTED_MODULE_2__["PreloadAllModules"] })
            ],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-app>\n  <ion-router-outlet></ion-router-outlet>\n</ion-app>\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _core_services_fcm_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/services/fcm.service */ "./src/app/core/services/fcm.service.ts");
/* harmony import */ var _ionic_native_firebase_authentication_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/firebase-authentication/ngx */ "./node_modules/@ionic-native/firebase-authentication/ngx/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _core_services_user_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./core/services/user.service */ "./src/app/core/services/user.service.ts");
/* harmony import */ var _core_services_translate_config_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./core/services/translate-config.service */ "./src/app/core/services/translate-config.service.ts");










var AppComponent = /** @class */ (function () {
    function AppComponent(platform, splashScreen, statusBar, firebaseAuthentication, fcmService, userService, router, toastController, translateConfigService, navController) {
        this.platform = platform;
        this.splashScreen = splashScreen;
        this.statusBar = statusBar;
        this.firebaseAuthentication = firebaseAuthentication;
        this.fcmService = fcmService;
        this.userService = userService;
        this.router = router;
        this.toastController = toastController;
        this.translateConfigService = translateConfigService;
        this.navController = navController;
        this.initializeApp();
    }
    AppComponent.prototype.initializeApp = function () {
        var _this = this;
        this.platform.ready().then(function () {
            _this.statusBar.styleDefault();
            _this.splashScreen.hide();
            _this.notificationSetup();
            _this.configureAuth();
            _this.translateConfigService.getDefaultLanguage();
        });
    };
    AppComponent.prototype.notificationSetup = function () {
        var _this = this;
        this.fcmService.listenToNotifications().subscribe(function (msg) {
            console.log(msg);
            if (msg.tap === true) {
                if (msg.type === 'request') {
                    var navigationExtras = {
                        state: {
                            rideId: msg.rideId
                        }
                    };
                    _this.router.navigate(['ride-plan'], navigationExtras);
                }
                if (msg.type === 'requestState') {
                    var navigationExtras = {
                        state: {
                            requestId: msg.requestId
                        }
                    };
                    _this.router.navigate(['booked-ride-plan'], navigationExtras);
                }
                if (msg.type === 'chatMessage') {
                    var navigationExtras = {
                        state: {
                            chatId: msg.chatId
                        }
                    };
                    _this.router.navigate(['chat'], navigationExtras);
                }
                if (msg.type === 'rating') {
                    var navigationExtras = {
                        state: {
                            userId: msg.userId
                        }
                    };
                    _this.router.navigate(['public-profile'], navigationExtras);
                }
            }
            if (_this.platform.is('ios')) {
                _this.presentToast(msg.aps.alert);
            }
            else {
                _this.presentToast(msg.body);
            }
        });
    };
    AppComponent.prototype.presentToast = function (message) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var toast;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 3000
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    AppComponent.prototype.configureAuth = function () {
        var _this = this;
        this.platform.ready().then(function () {
            _this.statusBar.styleDefault();
            _this.statusBar.backgroundColorByHexString('#ffffff');
            _this.splashScreen.hide();
            if (_this.platform.is('cordova')) {
                _this.firebaseAuthentication.onAuthStateChanged().subscribe(function (user) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
                    var _this = this;
                    return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                        if (user) {
                            this.userService.setLoggedUID(user.uid);
                            this.fcmService.setToken(user.uid);
                            this.userService.getLoggedUser().subscribe(function (loggedUser) {
                                if (!loggedUser.name) {
                                    _this.router.navigateByUrl('initial-setup');
                                }
                                else {
                                    _this.navController.navigateRoot(['tabs']);
                                }
                            });
                        }
                        else {
                            this.router.navigateByUrl('login');
                        }
                        return [2 /*return*/];
                    });
                }); }, function (e) {
                    console.error(e);
                });
            }
            else {
                // browser test mode
                _this.router.navigateByUrl('tabs');
                _this.userService.setLoggedUID('1');
            }
        });
    };
    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html")
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_3__["SplashScreen"],
            _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_4__["StatusBar"],
            _ionic_native_firebase_authentication_ngx__WEBPACK_IMPORTED_MODULE_6__["FirebaseAuthentication"],
            _core_services_fcm_service__WEBPACK_IMPORTED_MODULE_5__["FcmService"],
            _core_services_user_service__WEBPACK_IMPORTED_MODULE_8__["UserService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _core_services_translate_config_service__WEBPACK_IMPORTED_MODULE_9__["TranslateConfigService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: LanguageLoader, AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LanguageLoader", function() { return LanguageLoader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _angular_fire__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/fire */ "./node_modules/@angular/fire/index.js");
/* harmony import */ var angularfire2_database__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! angularfire2/database */ "./node_modules/angularfire2/database/index.js");
/* harmony import */ var angularfire2_database__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(angularfire2_database__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _angular_fire_auth__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/fire/auth */ "./node_modules/@angular/fire/auth/index.js");
/* harmony import */ var _ionic_native_google_maps__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ionic-native/google-maps */ "./node_modules/@ionic-native/google-maps/index.js");
/* harmony import */ var _ionic_native_geolocation_ngx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ionic-native/geolocation/ngx */ "./node_modules/@ionic-native/geolocation/ngx/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _agm_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @agm/core */ "./node_modules/@agm/core/fesm5/agm-core.js");
/* harmony import */ var _core_services_local_storage_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./core/services/local-storage.service */ "./src/app/core/services/local-storage.service.ts");
/* harmony import */ var _core_services_fcm_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./core/services/fcm.service */ "./src/app/core/services/fcm.service.ts");
/* harmony import */ var _ionic_native_firebase_ngx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ionic-native/firebase/ngx */ "./node_modules/@ionic-native/firebase/ngx/index.js");
/* harmony import */ var ng4_intl_phone__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ng4-intl-phone */ "./node_modules/ng4-intl-phone/ng4-intl-phone.es5.js");
/* harmony import */ var _ionic_native_firebase_authentication_ngx__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @ionic-native/firebase-authentication/ngx */ "./node_modules/@ionic-native/firebase-authentication/ngx/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _pages_tabs_rides_ride_ride_module__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./pages/tabs/rides/ride/ride.module */ "./src/app/pages/tabs/rides/ride/ride.module.ts");
/* harmony import */ var _pages_tabs_profile_profile_form_profile_form_module__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./pages/tabs/profile/profile-form/profile-form.module */ "./src/app/pages/tabs/profile/profile-form/profile-form.module.ts");
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var _core_services_utils_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./core/services/utils.service */ "./src/app/core/services/utils.service.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @ngx-translate/http-loader */ "./node_modules/@ngx-translate/http-loader/fesm5/ngx-translate-http-loader.js");
/* harmony import */ var _core_services_translate_config_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./core/services/translate-config.service */ "./src/app/core/services/translate-config.service.ts");
/* harmony import */ var _ionic_native_email_composer_ngx__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @ionic-native/email-composer/ngx */ "./node_modules/@ionic-native/email-composer/ngx/index.js");
/* harmony import */ var ionic_angular__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ionic-angular */ "./node_modules/ionic-angular/index.js");
































function LanguageLoader(http) {
    return new _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_28__["TranslateHttpLoader"](http, 'assets/i18n/', '.json');
}
var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [_app_component__WEBPACK_IMPORTED_MODULE_8__["AppComponent"]],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["BrowserModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"].forRoot(),
                _ionic_storage__WEBPACK_IMPORTED_MODULE_14__["IonicStorageModule"].forRoot(),
                _angular_common_http__WEBPACK_IMPORTED_MODULE_22__["HttpClientModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_7__["AppRoutingModule"],
                _pages_tabs_rides_ride_ride_module__WEBPACK_IMPORTED_MODULE_23__["RidePageModule"],
                _pages_tabs_profile_profile_form_profile_form_module__WEBPACK_IMPORTED_MODULE_24__["ProfileFormPageModule"],
                _angular_fire__WEBPACK_IMPORTED_MODULE_9__["AngularFireModule"].initializeApp(_environments_environment__WEBPACK_IMPORTED_MODULE_15__["environment"].firebase),
                _angular_fire_auth__WEBPACK_IMPORTED_MODULE_11__["AngularFireAuthModule"],
                angularfire2_database__WEBPACK_IMPORTED_MODULE_10__["AngularFireDatabaseModule"],
                ng4_intl_phone__WEBPACK_IMPORTED_MODULE_20__["InternationalPhoneModule"],
                _agm_core__WEBPACK_IMPORTED_MODULE_16__["AgmCoreModule"].forRoot({
                    apiKey: 'AIzaSyBEavHbLwLZhyr1L8psKmof-84BlLqbRn8',
                    libraries: ['places']
                }),
                _ngx_translate_core__WEBPACK_IMPORTED_MODULE_27__["TranslateModule"].forRoot({
                    loader: {
                        provide: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_27__["TranslateLoader"],
                        useFactory: (LanguageLoader),
                        deps: [_angular_common_http__WEBPACK_IMPORTED_MODULE_22__["HttpClient"]]
                    }
                })
            ],
            providers: [
                _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_6__["StatusBar"],
                _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_5__["SplashScreen"],
                _ionic_native_google_maps__WEBPACK_IMPORTED_MODULE_12__["GoogleMaps"],
                _ionic_native_geolocation_ngx__WEBPACK_IMPORTED_MODULE_13__["Geolocation"],
                _core_services_local_storage_service__WEBPACK_IMPORTED_MODULE_17__["LocalStorageService"],
                _ionic_native_firebase_ngx__WEBPACK_IMPORTED_MODULE_19__["Firebase"],
                _core_services_fcm_service__WEBPACK_IMPORTED_MODULE_18__["FcmService"],
                _ionic_native_firebase_authentication_ngx__WEBPACK_IMPORTED_MODULE_21__["FirebaseAuthentication"],
                _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_25__["Camera"],
                _ionic_native_email_composer_ngx__WEBPACK_IMPORTED_MODULE_30__["EmailComposer"],
                _core_services_utils_service__WEBPACK_IMPORTED_MODULE_26__["UtilsService"],
                _core_services_translate_config_service__WEBPACK_IMPORTED_MODULE_29__["TranslateConfigService"],
                ionic_angular__WEBPACK_IMPORTED_MODULE_31__["Platform"],
                { provide: _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouteReuseStrategy"], useClass: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicRouteStrategy"] }
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_8__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/core/services/fcm.service.ts":
/*!**********************************************!*\
  !*** ./src/app/core/services/fcm.service.ts ***!
  \**********************************************/
/*! exports provided: FcmService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FcmService", function() { return FcmService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_fire_database__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/fire/database */ "./node_modules/@angular/fire/database/index.js");
/* harmony import */ var _ionic_native_firebase_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/firebase/ngx */ "./node_modules/@ionic-native/firebase/ngx/index.js");





var FcmService = /** @class */ (function () {
    function FcmService(db, firebaseNative, platform) {
        this.db = db;
        this.firebaseNative = firebaseNative;
        this.platform = platform;
    }
    FcmService.prototype.setToken = function (userId) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var _a, _b;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_c) {
                switch (_c.label) {
                    case 0:
                        if (!this.platform.is('android')) return [3 /*break*/, 2];
                        _a = this;
                        return [4 /*yield*/, this.firebaseNative.getToken()];
                    case 1:
                        _a.token = _c.sent();
                        _c.label = 2;
                    case 2:
                        if (!this.platform.is('ios')) return [3 /*break*/, 5];
                        _b = this;
                        return [4 /*yield*/, this.firebaseNative.getToken()];
                    case 3:
                        _b.token = _c.sent();
                        return [4 /*yield*/, this.firebaseNative.grantPermission()];
                    case 4:
                        _c.sent();
                        _c.label = 5;
                    case 5: return [2 /*return*/, this.saveTokenToDatabase(userId)];
                }
            });
        });
    };
    FcmService.prototype.saveTokenToDatabase = function (userId) {
        if (!this.token) {
            return;
        }
        var device = {
            userId: userId,
            token: this.token,
        };
        return this.db.object("devices/" + userId).set(device);
    };
    FcmService.prototype.listenToNotifications = function () {
        return this.firebaseNative.onNotificationOpen();
    };
    FcmService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_fire_database__WEBPACK_IMPORTED_MODULE_3__["AngularFireDatabase"],
            _ionic_native_firebase_ngx__WEBPACK_IMPORTED_MODULE_4__["Firebase"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"]])
    ], FcmService);
    return FcmService;
}());



/***/ }),

/***/ "./src/app/core/services/local-storage.service.ts":
/*!********************************************************!*\
  !*** ./src/app/core/services/local-storage.service.ts ***!
  \********************************************************/
/*! exports provided: LocalStorageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocalStorageService", function() { return LocalStorageService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var LocalStorageService = /** @class */ (function () {
    function LocalStorageService() {
    }
    LocalStorageService.prototype.get = function (itemKey) {
        return JSON.parse(localStorage.getItem(itemKey));
    };
    LocalStorageService.prototype.set = function (itemKey, item) {
        localStorage.setItem(itemKey, JSON.stringify(item));
    };
    LocalStorageService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], LocalStorageService);
    return LocalStorageService;
}());



/***/ }),

/***/ "./src/app/core/services/ride.service.ts":
/*!***********************************************!*\
  !*** ./src/app/core/services/ride.service.ts ***!
  \***********************************************/
/*! exports provided: RideService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RideService", function() { return RideService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_fire_database__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/fire/database */ "./node_modules/@angular/fire/database/index.js");



var RideService = /** @class */ (function () {
    function RideService(db) {
        this.db = db;
        this.collectionEndPoint = 'rides';
    }
    RideService.prototype.createRide = function (ride) {
        ride.id = this.db.createPushId();
        return this.db.object(this.collectionEndPoint + "/" + ride.id).set(ride);
    };
    RideService.prototype.updateRide = function (ride) {
        return this.db.object(this.collectionEndPoint + "/" + ride.id).update(ride);
    };
    RideService.prototype.deleteRide = function (rideId) {
        return this.db.object(this.collectionEndPoint + "/" + rideId).remove();
    };
    RideService.prototype.getRides = function () {
        return this.db.list(this.collectionEndPoint, function (ref) { return ref.orderByChild('dateTime')
            .startAt(new Date().getTime()); }).valueChanges();
    };
    RideService.prototype.getRidesByUserId = function (userId) {
        return this.db.list(this.collectionEndPoint, function (ref) { return ref.orderByChild('userId').equalTo(userId); }).valueChanges();
    };
    RideService.prototype.getRide = function (rideId) {
        return this.db.object(this.collectionEndPoint + "/" + rideId).valueChanges();
    };
    RideService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_fire_database__WEBPACK_IMPORTED_MODULE_2__["AngularFireDatabase"]])
    ], RideService);
    return RideService;
}());



/***/ }),

/***/ "./src/app/core/services/tracking.service.ts":
/*!***************************************************!*\
  !*** ./src/app/core/services/tracking.service.ts ***!
  \***************************************************/
/*! exports provided: TrackingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrackingService", function() { return TrackingService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_fire_database__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/fire/database */ "./node_modules/@angular/fire/database/index.js");



var TrackingService = /** @class */ (function () {
    function TrackingService(db) {
        this.db = db;
        this.collectionEndPoint = 'tracking';
    }
    TrackingService.prototype.saveTracking = function (tracking) {
        tracking.id = this.db.createPushId();
        return this.db.object(this.collectionEndPoint + "/" + tracking.id).set(tracking);
    };
    TrackingService.prototype.getTrackingsByUserId = function (userId) {
        return this.db.list(this.collectionEndPoint, function (ref) { return ref.orderByChild('user/id').equalTo(userId); }).valueChanges();
    };
    TrackingService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_fire_database__WEBPACK_IMPORTED_MODULE_2__["AngularFireDatabase"]])
    ], TrackingService);
    return TrackingService;
}());



/***/ }),

/***/ "./src/app/core/services/translate-config.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/core/services/translate-config.service.ts ***!
  \***********************************************************/
/*! exports provided: TranslateConfigService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TranslateConfigService", function() { return TranslateConfigService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");



var TranslateConfigService = /** @class */ (function () {
    function TranslateConfigService(translate) {
        this.translate = translate;
    }
    TranslateConfigService.prototype.getDefaultLanguage = function () {
        var language = this.translate.getBrowserLang();
        this.translate.setDefaultLang(language);
        return language;
    };
    TranslateConfigService.prototype.setLanguage = function (setLang) {
        this.translate.use(setLang);
    };
    TranslateConfigService.prototype.getLanguage = function () {
        if (this.translate.currentLang) {
            return this.translate.currentLang;
        }
        else {
            return this.translate.getDefaultLang();
        }
    };
    TranslateConfigService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__["TranslateService"]])
    ], TranslateConfigService);
    return TranslateConfigService;
}());



/***/ }),

/***/ "./src/app/core/services/user.service.ts":
/*!***********************************************!*\
  !*** ./src/app/core/services/user.service.ts ***!
  \***********************************************/
/*! exports provided: UserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserService", function() { return UserService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_fire_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/fire/auth */ "./node_modules/@angular/fire/auth/index.js");
/* harmony import */ var _angular_fire_database__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/fire/database */ "./node_modules/@angular/fire/database/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");





var UserService = /** @class */ (function () {
    function UserService(auth, db) {
        this.auth = auth;
        this.db = db;
        this.user = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](null);
        this.collectionEndPoint = 'users';
    }
    UserService.prototype.getUser = function (userId) {
        return this.db.object(this.collectionEndPoint + "/" + userId).valueChanges();
    };
    UserService.prototype.updateUser = function (user) {
        return this.db.object(this.collectionEndPoint + "/" + user.id).update(user);
    };
    UserService.prototype.deleteUser = function (userId) {
        return this.db.object(this.collectionEndPoint + "/" + userId).remove();
    };
    UserService.prototype.getLoggedUID = function () {
        return this.uid;
    };
    UserService.prototype.getLoggedUser = function () {
        return this.getUser(this.uid);
    };
    UserService.prototype.setLoggedUID = function (id) {
        var _this = this;
        this.uid = id;
        this.getLoggedUser().subscribe(function (user) {
            _this.user.next(user);
        });
    };
    /*
        public blockUser(userId) {
            const promise = new Promise(((resolve, reject) => {
                this.db.database.ref(`${this.collectionEndPoint}/${this.uid}/blockList`).push({
                    id: userId
                });
            }));
            return promise;
        }*/
    UserService.prototype.blockUser = function (userId) {
        return this.db.object(this.collectionEndPoint + "/" + this.uid + "/blockList/" + userId).set(userId);
    };
    UserService.prototype.unBlockUser = function (userId) {
        var _this = this;
        var promise = new Promise((function (resolve, reject) {
            _this.db.database.ref(_this.collectionEndPoint + "/" + _this.uid + "/blockList").child(userId).remove();
        }));
        return promise;
    };
    UserService.prototype.getBlockList = function (userId) {
        return this.db.list(this.collectionEndPoint + "/" + userId + "/blockList").valueChanges();
    };
    UserService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_fire_auth__WEBPACK_IMPORTED_MODULE_2__["AngularFireAuth"],
            _angular_fire_database__WEBPACK_IMPORTED_MODULE_3__["AngularFireDatabase"]])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "./src/app/core/services/utils.service.ts":
/*!************************************************!*\
  !*** ./src/app/core/services/utils.service.ts ***!
  \************************************************/
/*! exports provided: UtilsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UtilsService", function() { return UtilsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");






var UtilsService = /** @class */ (function () {
    function UtilsService(http, camera, actionSheetController, platform, alertCtrl) {
        this.http = http;
        this.camera = camera;
        this.actionSheetController = actionSheetController;
        this.platform = platform;
        this.alertCtrl = alertCtrl;
    }
    UtilsService.prototype.actionSheetCameraOptions = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var actionSheet = _this.actionSheetController.create({
                header: 'Selecciona una de las siguientes opciones',
                buttons: [
                    {
                        text: "Cámara",
                        handler: function () {
                            var options = {
                                quality: 50,
                                destinationType: _this.camera.DestinationType.DATA_URL,
                                encodingType: _this.camera.EncodingType.JPEG,
                                correctOrientation: true,
                                sourceType: _this.camera.PictureSourceType.CAMERA,
                            };
                            resolve(options);
                        }
                    },
                    {
                        text: "Galería de fotos",
                        handler: function () {
                            var options = {
                                quality: 50,
                                destinationType: _this.camera.DestinationType.DATA_URL,
                                encodingType: _this.camera.EncodingType.JPEG,
                                correctOrientation: true,
                                sourceType: _this.camera.PictureSourceType.PHOTOLIBRARY,
                            };
                            resolve(options);
                        }
                    },
                    {
                        text: "Cancelar",
                        role: "cancel",
                        handler: function () {
                            reject(null);
                        }
                    }
                ]
            }).then(function (actionSheet) {
                actionSheet.present();
            });
        });
    };
    UtilsService.prototype.uploadBase64ImageToCloudinary = function (base64image, preset) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                return [2 /*return*/, this.http.post(_environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].cloudinaryUploadAddress, {
                        file: base64image,
                        upload_preset: preset
                    }).toPromise().then(function (res) {
                        return res.secure_url;
                    })];
            });
        });
    };
    UtilsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"],
            _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_2__["Camera"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ActionSheetController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["AlertController"]])
    ], UtilsService);
    return UtilsService;
}());



/***/ }),

/***/ "./src/app/pages/tabs/profile/profile-form/profile-form.module.ts":
/*!************************************************************************!*\
  !*** ./src/app/pages/tabs/profile/profile-form/profile-form.module.ts ***!
  \************************************************************************/
/*! exports provided: ProfileFormPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProfileFormPageModule", function() { return ProfileFormPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _profile_form_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./profile-form.page */ "./src/app/pages/tabs/profile/profile-form/profile-form.page.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");








var routes = [
    {
        path: '',
        component: _profile_form_page__WEBPACK_IMPORTED_MODULE_6__["ProfileFormPage"]
    }
];
var ProfileFormPageModule = /** @class */ (function () {
    function ProfileFormPageModule() {
    }
    ProfileFormPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__["TranslateModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild(routes)
            ],
            declarations: [_profile_form_page__WEBPACK_IMPORTED_MODULE_6__["ProfileFormPage"]]
        })
    ], ProfileFormPageModule);
    return ProfileFormPageModule;
}());



/***/ }),

/***/ "./src/app/pages/tabs/profile/profile-form/profile-form.page.html":
/*!************************************************************************!*\
  !*** ./src/app/pages/tabs/profile/profile-form/profile-form.page.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n    <ion-toolbar color=\"primary\">\n        <ion-title>{{ 'PROFILE.profile' | translate:params }}</ion-title>\n        <ion-buttons slot=\"start\">\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n    <form [formGroup]=\"profileForm\" class=\"profile-form\">\n        <div class=\"user-photo\" padding-top>\n            <ion-avatar>\n                <img [src]=\"photo\" (click)=\"uploadNewPhoto()\">\n            </ion-avatar>\n        </div>\n        <ion-item>\n            <ion-icon name=\"person\" slot=\"start\"></ion-icon>\n            <ion-label>{{ 'PROFILE.displayName' | translate:params }}</ion-label>\n            <ion-input formControlName=\"name\" required></ion-input>\n        </ion-item>\n        <ion-item>\n            <ion-icon name=\"call\" slot=\"start\"></ion-icon>\n            <ion-label>{{ 'PROFILE.phoneNumber' | translate:params }}</ion-label>\n            <ion-input formControlName=\"phoneNumber\" disabled></ion-input>\n        </ion-item>\n        <ion-item>\n            <ion-icon name=\"car\" slot=\"start\"></ion-icon>\n            <ion-label>{{ 'PROFILE.carDetails' | translate:params }}</ion-label>\n            <ion-input formControlName=\"carDetails\" placeHolder=\"Model, color...\"></ion-input>\n        </ion-item>\n    </form>\n    <div class=\"options\">\n        <ion-item>\n            <ion-icon name=\"options\" slot=\"start\"></ion-icon>\n            <ion-label>{{ 'PROFILE.selectLanguage' | translate:params }}</ion-label>\n            <ion-select placeholder=\"Select One\" [(ngModel)]=\"selectedLanguage\" (ionChange)=\"languageChanged()\">\n                <ion-select-option value=\"en\">English</ion-select-option>\n                <ion-select-option value=\"es\">Spanish</ion-select-option>\n\n            </ion-select>\n        </ion-item>\n\n        <ion-item lines=\"none\">\n            <ion-icon name=\"alert\" slot=\"start\" color=\"danger\"></ion-icon>\n            <ion-label color=\"danger\" (click)=\"presentAlertConfirm()\">{{ 'PROFILE.cancelAccount' | translate:params }}</ion-label>\n        </ion-item>\n\n    </div>\n    <div class=\"spinner-container\" *ngIf=\"isSpinning\">\n        <ion-spinner name=\"lines\"></ion-spinner>\n    </div>\n    <footer class=\"footer\">\n\n        <ion-button expand=\"full\" type=\"submit\" (click)=\"updateUser()\"\n                    [disabled]=\"profileForm.invalid\">{{ 'GENERIC.save' | translate:params }}\n        </ion-button>\n    </footer>\n\n\n</ion-content>\n"

/***/ }),

/***/ "./src/app/pages/tabs/profile/profile-form/profile-form.page.scss":
/*!************************************************************************!*\
  !*** ./src/app/pages/tabs/profile/profile-form/profile-form.page.scss ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host .user-photo ion-avatar {\n  margin: 0 auto;\n  width: 200px;\n  height: 200px; }\n\n:host .profile-form {\n  margin: 0 20px; }\n\n:host .options {\n  margin: 0 20px; }\n\n:host .footer {\n  position: fixed;\n  z-index: 0;\n  width: 100%;\n  bottom: 10px; }\n\n:host .spinner-container {\n  padding-top: 10%;\n  width: 100%;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-justify-content: center;\n          justify-content: center; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tb25leWJhL0Rlc2t0b3AvdW50aXRsZWQgZm9sZGVyL3RmbS9zcmMvYXBwL3BhZ2VzL3RhYnMvcHJvZmlsZS9wcm9maWxlLWZvcm0vcHJvZmlsZS1mb3JtLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUdJLGNBQWM7RUFDZCxZQUFZO0VBQ1osYUFBYSxFQUFBOztBQUxqQjtFQVNJLGNBQWMsRUFBQTs7QUFUbEI7RUFhSSxjQUFjLEVBQUE7O0FBYmxCO0VBaUJJLGVBQWU7RUFDZixVQUFVO0VBQ1YsV0FBVztFQUNYLFlBQVksRUFBQTs7QUFwQmhCO0VBd0JJLGdCQUFnQjtFQUNoQixXQUFXO0VBQ1gscUJBQWE7RUFBYixhQUFhO0VBQ2IsK0JBQXVCO1VBQXZCLHVCQUF1QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdGFicy9wcm9maWxlL3Byb2ZpbGUtZm9ybS9wcm9maWxlLWZvcm0ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuXG4gIC51c2VyLXBob3RvIGlvbi1hdmF0YXIge1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIHdpZHRoOiAyMDBweDtcbiAgICBoZWlnaHQ6IDIwMHB4O1xuICB9XG5cbiAgLnByb2ZpbGUtZm9ybSB7XG4gICAgbWFyZ2luOiAwIDIwcHg7XG4gIH1cblxuICAub3B0aW9ucyB7XG4gICAgbWFyZ2luOiAwIDIwcHg7XG4gIH1cblxuICAuZm9vdGVyIHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgei1pbmRleDogMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBib3R0b206IDEwcHg7XG4gIH1cblxuICAuc3Bpbm5lci1jb250YWluZXIge1xuICAgIHBhZGRpbmctdG9wOiAxMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgfVxuXG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/pages/tabs/profile/profile-form/profile-form.page.ts":
/*!**********************************************************************!*\
  !*** ./src/app/pages/tabs/profile/profile-form/profile-form.page.ts ***!
  \**********************************************************************/
/*! exports provided: ProfileFormPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProfileFormPage", function() { return ProfileFormPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_services_user_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/services/user.service */ "./src/app/core/services/user.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var _core_services_utils_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/services/utils.service */ "./src/app/core/services/utils.service.ts");
/* harmony import */ var _core_services_translate_config_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/services/translate-config.service */ "./src/app/core/services/translate-config.service.ts");









var ProfileFormPage = /** @class */ (function () {
    function ProfileFormPage(userService, fb, router, route, utilsService, camera, translateConfigService, alertController) {
        var _this = this;
        this.userService = userService;
        this.fb = fb;
        this.router = router;
        this.route = route;
        this.utilsService = utilsService;
        this.camera = camera;
        this.translateConfigService = translateConfigService;
        this.alertController = alertController;
        this.photoHasChanged = false;
        this.selectedLanguage = this.translateConfigService.getLanguage();
        this.route.queryParams.subscribe(function (params) {
            if (_this.router.getCurrentNavigation().extras.state) {
                _this.currentUser = _this.router.getCurrentNavigation().extras.state.user;
                _this.photo = _this.currentUser.photo;
            }
        });
        this.isSpinning = false;
    }
    ProfileFormPage.prototype.ngOnInit = function () {
        this.createProfileForm();
    };
    ProfileFormPage.prototype.createProfileForm = function () {
        this.profileForm = this.fb.group({
            name: [this.currentUser.name, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required],
            phoneNumber: [this.currentUser.phoneNumber],
            photo: [this.photo],
            carDetails: [this.currentUser.carDetails ? this.currentUser.carDetails : null]
        });
    };
    ProfileFormPage.prototype.updateUser = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var user;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                user = {
                    id: this.currentUser.id,
                    name: this.profileForm.get('name').value,
                    photo: this.profileForm.get('photo').value,
                    carDetails: this.profileForm.get('carDetails').value
                };
                this.userService.updateUser(user).then(function () {
                    _this.router.navigate(['tabs/tabs/profile']);
                });
                return [2 /*return*/];
            });
        });
    };
    ProfileFormPage.prototype.uploadNewPhoto = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var cameraOptions, preview, base64Image, preset, url;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.utilsService.actionSheetCameraOptions()];
                    case 1:
                        cameraOptions = _a.sent();
                        return [4 /*yield*/, this.camera.getPicture(cameraOptions)];
                    case 2:
                        preview = _a.sent();
                        base64Image = 'data:image / jpeg;base64,' + preview;
                        this.isSpinning = true;
                        preset = 'gfllyeot';
                        return [4 /*yield*/, this.utilsService.uploadBase64ImageToCloudinary(base64Image, preset)];
                    case 3:
                        url = _a.sent();
                        this.isSpinning = false;
                        this.photo = url;
                        this.profileForm.get('photo').setValue(url);
                        this.photoHasChanged = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    ProfileFormPage.prototype.deleteUser = function () {
        this.userService.deleteUser(this.currentUser.id);
    };
    ProfileFormPage.prototype.languageChanged = function () {
        this.translateConfigService.setLanguage(this.selectedLanguage);
    };
    ProfileFormPage.prototype.presentAlertConfirm = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Delete Account',
                            message: 'Are you sure you want to delete your account?',
                            buttons: [
                                {
                                    text: 'No',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                    }
                                }, {
                                    text: 'Yes',
                                    handler: function () {
                                        _this.deleteUser();
                                    }
                                }
                            ]
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ProfileFormPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-profile-form',
            template: __webpack_require__(/*! ./profile-form.page.html */ "./src/app/pages/tabs/profile/profile-form/profile-form.page.html"),
            styles: [__webpack_require__(/*! ./profile-form.page.scss */ "./src/app/pages/tabs/profile/profile-form/profile-form.page.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_user_service__WEBPACK_IMPORTED_MODULE_2__["UserService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"],
            _core_services_utils_service__WEBPACK_IMPORTED_MODULE_7__["UtilsService"],
            _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_6__["Camera"],
            _core_services_translate_config_service__WEBPACK_IMPORTED_MODULE_8__["TranslateConfigService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"]])
    ], ProfileFormPage);
    return ProfileFormPage;
}());



/***/ }),

/***/ "./src/app/pages/tabs/rides/ride/rate-popover/rate-popover.component.html":
/*!********************************************************************************!*\
  !*** ./src/app/pages/tabs/rides/ride/rate-popover/rate-popover.component.html ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-grid>\n  <ion-row>\n    <ion-col text-center>\n      <h2>Please, rate passenger!</h2>\n      <div class=\"user-photo\" padding-top>\n        <ion-avatar>\n          <img [src]=\"user?.photo || '/assets/icon/favicon.jpg'\">\n        </ion-avatar>\n      </div>\n      <h3>{{user.name}}</h3>\n      <ion-icon name=\"star\" style=\"font-size: 30px\" *ngFor=\"let num of [1,2,3,4,5]\" (click)=\"rate(num)\"\n                [ngStyle]=\"{'color': getColor(num)}\"></ion-icon>\n    </ion-col>\n  </ion-row>\n\n    <ion-item>\n      <ion-label text-center position=\"floating\">Your comment (optional):</ion-label>\n      <ion-textarea [(ngModel)]=\"this.rating.comment\" maxlength=\"50\"></ion-textarea>\n    </ion-item>\n\n\n\n    <ion-footer text-center>\n      <ion-button (click)=\"closeModal()\" [disabled]=\"!ratingNumber\">Rate</ion-button>\n    </ion-footer>\n\n\n\n</ion-grid>\n"

/***/ }),

/***/ "./src/app/pages/tabs/rides/ride/rate-popover/rate-popover.component.scss":
/*!********************************************************************************!*\
  !*** ./src/app/pages/tabs/rides/ride/rate-popover/rate-popover.component.scss ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".user-photo ion-avatar {\n  margin: 0 auto;\n  width: 120px;\n  height: 120px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tb25leWJhL0Rlc2t0b3AvdW50aXRsZWQgZm9sZGVyL3RmbS9zcmMvYXBwL3BhZ2VzL3RhYnMvcmlkZXMvcmlkZS9yYXRlLXBvcG92ZXIvcmF0ZS1wb3BvdmVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYztFQUNkLFlBQVk7RUFDWixhQUFhLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy90YWJzL3JpZGVzL3JpZGUvcmF0ZS1wb3BvdmVyL3JhdGUtcG9wb3Zlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi51c2VyLXBob3RvIGlvbi1hdmF0YXIge1xuICBtYXJnaW46IDAgYXV0bztcbiAgd2lkdGg6IDEyMHB4O1xuICBoZWlnaHQ6IDEyMHB4O1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/pages/tabs/rides/ride/rate-popover/rate-popover.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/pages/tabs/rides/ride/rate-popover/rate-popover.component.ts ***!
  \******************************************************************************/
/*! exports provided: RatePopoverComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RatePopoverComponent", function() { return RatePopoverComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _core_services_user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/services/user.service */ "./src/app/core/services/user.service.ts");
/* harmony import */ var _shared_ui_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/ui.utils */ "./src/app/shared/ui.utils.ts");
/* harmony import */ var _angular_fire_database__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/fire/database */ "./node_modules/@angular/fire/database/index.js");






var RatePopoverComponent = /** @class */ (function () {
    function RatePopoverComponent(navParams, userService, popoverController, db) {
        this.navParams = navParams;
        this.userService = userService;
        this.popoverController = popoverController;
        this.db = db;
        this.ratingChange = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.user = this.navParams.data.toUser;
        console.log(this.user);
        this.isToDriver = this.navParams.data.isToDriver;
        this.rating = {
            id: this.db.createPushId(),
            dateTime: new Date().getTime(),
            fromUserId: this.navParams.data.fromUserId,
            rating: null,
            comment: ''
        };
    }
    RatePopoverComponent.prototype.ngOnInit = function () {
    };
    RatePopoverComponent.prototype.rate = function (index) {
        // function used to change the value of our ratingNumber
        // triggered when user, clicks a star to change the ratingNumber
        this.ratingNumber = index;
        this.ratingChange.emit(this.ratingNumber);
    };
    RatePopoverComponent.prototype.getColor = function (index) {
        /* function to return the color of a star based on what
         index it is. All stars greater than the index are assigned
         a grey color , while those equal or less than the ratingNumber are
         assigned a color depending on the ratingNumber. Using the following criteria:
    
              1-2 stars: red
              3 stars  : yellow
              4-5 stars: green
        */
        if (this.isAboveRating(index)) {
            return _shared_ui_utils__WEBPACK_IMPORTED_MODULE_4__["RatingColors"].GREY;
        }
        switch (this.ratingNumber) {
            case 1:
            case 2:
                return _shared_ui_utils__WEBPACK_IMPORTED_MODULE_4__["RatingColors"].RED;
            case 3:
                return _shared_ui_utils__WEBPACK_IMPORTED_MODULE_4__["RatingColors"].YELLOW;
            case 4:
            case 5:
                return _shared_ui_utils__WEBPACK_IMPORTED_MODULE_4__["RatingColors"].GREEN;
            default:
                return _shared_ui_utils__WEBPACK_IMPORTED_MODULE_4__["RatingColors"].GREY;
        }
    };
    RatePopoverComponent.prototype.isAboveRating = function (index) {
        // returns whether or not the selected index is above ,the current ratingNumber
        // function is called from the getColor function.
        return index > this.ratingNumber;
    };
    RatePopoverComponent.prototype.closeModal = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var averageRating, extraPoints;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                averageRating = (this.user.averageRating * this.user.numberOfRatings + this.ratingNumber) / (this.user.numberOfRatings + 1);
                this.user.numberOfRatings++;
                averageRating = Math.round(averageRating * 10) / 10;
                this.user.averageRating = averageRating;
                extraPoints = 5;
                if (this.isToDriver) {
                    extraPoints = 10;
                }
                console.log(this.user);
                this.user.points.currentPoints += this.ratingNumber + extraPoints;
                if (!this.user.ratings) {
                    this.user.ratings = [];
                }
                this.rating.rating = this.ratingNumber;
                this.user.ratings.push(this.rating);
                this.userService.updateUser(this.user).then(function () {
                    var onClosedData = true;
                    _this.popoverController.dismiss(onClosedData);
                });
                return [2 /*return*/];
            });
        });
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], RatePopoverComponent.prototype, "ratingNumber", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])
    ], RatePopoverComponent.prototype, "ratingChange", void 0);
    RatePopoverComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-rate-popover',
            template: __webpack_require__(/*! ./rate-popover.component.html */ "./src/app/pages/tabs/rides/ride/rate-popover/rate-popover.component.html"),
            styles: [__webpack_require__(/*! ./rate-popover.component.scss */ "./src/app/pages/tabs/rides/ride/rate-popover/rate-popover.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavParams"],
            _core_services_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["PopoverController"],
            _angular_fire_database__WEBPACK_IMPORTED_MODULE_5__["AngularFireDatabase"]])
    ], RatePopoverComponent);
    return RatePopoverComponent;
}());



/***/ }),

/***/ "./src/app/pages/tabs/rides/ride/ride.module.ts":
/*!******************************************************!*\
  !*** ./src/app/pages/tabs/rides/ride/ride.module.ts ***!
  \******************************************************/
/*! exports provided: RidePageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RidePageModule", function() { return RidePageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ride_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ride.page */ "./src/app/pages/tabs/rides/ride/ride.page.ts");
/* harmony import */ var _rate_popover_rate_popover_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./rate-popover/rate-popover.component */ "./src/app/pages/tabs/rides/ride/rate-popover/rate-popover.component.ts");








var routes = [
    {
        path: '',
        component: _ride_page__WEBPACK_IMPORTED_MODULE_6__["RidePage"]
    }
];
var RidePageModule = /** @class */ (function () {
    function RidePageModule() {
    }
    RidePageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild(routes)
            ],
            declarations: [_ride_page__WEBPACK_IMPORTED_MODULE_6__["RidePage"], _rate_popover_rate_popover_component__WEBPACK_IMPORTED_MODULE_7__["RatePopoverComponent"]],
            entryComponents: [_rate_popover_rate_popover_component__WEBPACK_IMPORTED_MODULE_7__["RatePopoverComponent"]]
        })
    ], RidePageModule);
    return RidePageModule;
}());



/***/ }),

/***/ "./src/app/pages/tabs/rides/ride/ride.page.html":
/*!******************************************************!*\
  !*** ./src/app/pages/tabs/rides/ride/ride.page.html ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n    <ion-toolbar color=\"primary\">\n        <ion-title text-center>Ride Tracking</ion-title>\n        <ion-buttons slot=\"start\">\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content padding>\n    <ion-card>\n        <div #map id=\"map\"></div>\n    </ion-card>\n\n    <div *ngIf=\"!isRating\" text-center class=\"start-button\">\n        <ion-button (click)=\"startTracking()\" *ngIf=\"!isTracking\">\n            <ion-icon name=\"locate\"></ion-icon>\n            Start Tracking\n        </ion-button>\n        <ion-button color=\"danger\" (click)=\"stopTracking()\" *ngIf=\"isTracking\">\n            <ion-icon name=\"hand\"></ion-icon>\n            Stop Tracking\n        </ion-button>\n    </div>\n\n    <div *ngIf=\"isRating\" class=\"rating\">\n\n        <div *ngIf=\"currentUser.id !== driver.id\">\n            <h2 text-center>Please, rate your driver!</h2>\n            <ion-item (click)=\"presentRatePopover(driver, 0)\" [disabled]=\"driver.isRated\">\n                <ion-avatar>\n                    <img [src]=\"driver?.photo\">\n                </ion-avatar>\n                <ion-label>{{driver?.name}}</ion-label>\n            </ion-item>\n        </div>\n\n\n        <div *ngIf=\"currentUser.id === driver.id\">\n\n            <h2 text-center>Please, rate your passengers!</h2>\n\n            <ion-list *ngFor=\"let user of passengers; let i = index\" [attr.data-index]=\"i\">\n                <ion-item (click)=\"presentRatePopover(user, i)\" [disabled]=\"user.isRated\">\n                    <ion-avatar>\n                        <img [src]=\"user?.photo\">\n                    </ion-avatar>\n                    <ion-label>{{user?.name}}</ion-label>\n                </ion-item>\n            </ion-list>\n        </div>\n\n        <div text-center class=\"done-button\">\n            <ion-button (click)=\"closeModal()\" [disabled]=\"numberOfUsersNoRated> 0\">Done</ion-button>\n        </div>\n    </div>\n\n</ion-content>\n"

/***/ }),

/***/ "./src/app/pages/tabs/rides/ride/ride.page.scss":
/*!******************************************************!*\
  !*** ./src/app/pages/tabs/rides/ride/ride.page.scss ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#map {\n  width: 100%;\n  height: 300px; }\n\nion-label {\n  margin-left: 10px; }\n\n.start-button {\n  height: 49%;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n  -webkit-justify-content: flex-end;\n          justify-content: flex-end; }\n\n.done-button {\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n  -webkit-justify-content: flex-end;\n          justify-content: flex-end; }\n\n.rating {\n  height: 49%; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tb25leWJhL0Rlc2t0b3AvdW50aXRsZWQgZm9sZGVyL3RmbS9zcmMvYXBwL3BhZ2VzL3RhYnMvcmlkZXMvcmlkZS9yaWRlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQVc7RUFDWCxhQUFhLEVBQUE7O0FBRWY7RUFDRSxpQkFBaUIsRUFBQTs7QUFHbkI7RUFDRSxXQUFXO0VBQ1gscUJBQWE7RUFBYixhQUFhO0VBQ2IsOEJBQXNCO1VBQXRCLHNCQUFzQjtFQUN0QixpQ0FBeUI7VUFBekIseUJBQXlCLEVBQUE7O0FBRzNCO0VBQ0UscUJBQWE7RUFBYixhQUFhO0VBQ2IsOEJBQXNCO1VBQXRCLHNCQUFzQjtFQUN0QixpQ0FBeUI7VUFBekIseUJBQXlCLEVBQUE7O0FBRzNCO0VBQ0UsV0FBVyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdGFicy9yaWRlcy9yaWRlL3JpZGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI21hcCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDMwMHB4O1xufVxuaW9uLWxhYmVse1xuICBtYXJnaW4tbGVmdDogMTBweDtcbn1cblxuLnN0YXJ0LWJ1dHRvbiB7XG4gIGhlaWdodDogNDklO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xufVxuXG4uZG9uZS1idXR0b24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xufVxuXG4ucmF0aW5nIHtcbiAgaGVpZ2h0OiA0OSU7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/pages/tabs/rides/ride/ride.page.ts":
/*!****************************************************!*\
  !*** ./src/app/pages/tabs/rides/ride/ride.page.ts ***!
  \****************************************************/
/*! exports provided: RidePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RidePage", function() { return RidePage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_native_geolocation_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/geolocation/ngx */ "./node_modules/@ionic-native/geolocation/ngx/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _core_services_tracking_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/services/tracking.service */ "./src/app/core/services/tracking.service.ts");
/* harmony import */ var _core_services_user_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/services/user.service */ "./src/app/core/services/user.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _rate_popover_rate_popover_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./rate-popover/rate-popover.component */ "./src/app/pages/tabs/rides/ride/rate-popover/rate-popover.component.ts");
/* harmony import */ var _core_services_ride_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/services/ride.service */ "./src/app/core/services/ride.service.ts");










var RidePage = /** @class */ (function () {
    function RidePage(userService, rideService, plt, geolocation, trackingService, navParams, router, modalController, popoverController) {
        this.userService = userService;
        this.rideService = rideService;
        this.plt = plt;
        this.geolocation = geolocation;
        this.trackingService = trackingService;
        this.navParams = navParams;
        this.router = router;
        this.modalController = modalController;
        this.popoverController = popoverController;
        this.currentUser = null;
        this.currentMapTrack = null;
        this.isTracking = false;
        this.trackedRoute = [];
        this.previousTracks = [];
        this.myMarker = new google.maps.Marker();
        this.isRating = false;
        this.ratingChange = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.passengers = [];
        this.currentUser = this.userService.user.getValue();
    }
    RidePage.prototype.ngOnInit = function () {
        this.getCurrentPosition();
        this.ride = this.navParams.data.ride;
        this.getDriver(this.ride.userId);
        this.getPassengers();
        this.numberOfUsersNoRated = this.ride.seatedUserIds ? this.ride.seatedUserIds.length : 1;
    };
    RidePage.prototype.getDriver = function (userId) {
        var _this = this;
        this.userService.getUser(userId).subscribe(function (user) {
            return _this.driver = user;
        });
    };
    RidePage.prototype.getCurrentPosition = function () {
        var _this = this;
        this.plt.ready().then(function () {
            _this.loadHistoricRoutes();
            var mapOptions = {
                zoom: 13,
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                mapTypeControl: false,
                streetViewControl: false,
                fullscreenControl: false
            };
            _this.map = new google.maps.Map(_this.mapElement.nativeElement, mapOptions);
            _this.geolocation.getCurrentPosition().then(function (position) {
                var latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
                _this.map.setCenter(latLng);
                _this.map.setZoom(16);
                _this.myMarker = new google.maps.Marker({
                    position: new google.maps.LatLng(position.coords.latitude, position.coords.longitude),
                    map: _this.map,
                });
            }).catch(function (error) {
                console.log('Error getting location', error);
            });
        });
    };
    RidePage.prototype.loadHistoricRoutes = function () {
        var _this = this;
        this.trackingService.getTrackingsByUserId(this.currentUser.id).subscribe(function (data) {
            if (data) {
                _this.previousTracks = data;
            }
        });
    };
    RidePage.prototype.startTracking = function () {
        var _this = this;
        this.isTracking = true;
        this.trackedRoute = [];
        this.positionSubscription = this.geolocation.watchPosition()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])(function (p) { return p.coords !== undefined; }) // Filter Out Errors
        )
            .subscribe(function (data) {
            setTimeout(function () {
                console.log(data.coords);
                var latLng = new google.maps.LatLng(data.coords.latitude, data.coords.longitude);
                _this.myMarker.setPosition(latLng);
                _this.map.setCenter(latLng);
                _this.trackedRoute.push({ lat: data.coords.latitude, lng: data.coords.longitude });
                _this.redrawPath(_this.trackedRoute);
            }, 0);
        });
    };
    RidePage.prototype.redrawPath = function (path) {
        if (this.currentMapTrack) {
            this.currentMapTrack.setMap(null);
        }
        if (path.length > 1) {
            this.currentMapTrack = new google.maps.Polyline({
                path: path,
                geodesic: true,
                strokeColor: 'blue',
                strokeOpacity: 1.0,
                strokeWeight: 3
            });
            this.currentMapTrack.setMap(this.map);
        }
    };
    RidePage.prototype.stopTracking = function () {
        var newRoute = { userId: this.currentUser.id, finishedDate: new Date().getTime(), path: this.trackedRoute };
        this.previousTracks.push(newRoute);
        // this.storage.set('routes', this.previousTracks);
        this.trackingService.saveTracking(newRoute);
        this.isTracking = false;
        this.positionSubscription.unsubscribe();
        this.currentMapTrack.setMap(null);
        this.redrawPath(this.trackedRoute);
        this.isRating = true;
    };
    RidePage.prototype.closeModal = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                this.ride.isFinished = true;
                this.rideService.updateRide(this.ride);
                this.modalController.dismiss();
                return [2 /*return*/];
            });
        });
    };
    /*
        private getPassengers(): void {
            console.log(this.passengers.length);
            if (this.passengers.length === 0) {
                this.ride.seatedUserIds.forEach(userId => {
                    this.userService.getUser(userId).subscribe(user => {
                        user.isRated = false;
                        this.passengers.push(user);
                    });
                });
            }
        }*/
    RidePage.prototype.getPassengers = function () {
        var _this = this;
        this.passengers = [];
        if (this.ride.seatedUserIds) {
            this.ride.seatedUserIds.forEach(function (userId, index) {
                _this.userService.getUser(userId).subscribe(function (user) {
                    user.isRated = false;
                    _this.passengers[index] = user;
                });
            });
        }
    };
    RidePage.prototype.presentRatePopover = function (user, index) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var popover;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _rate_popover_rate_popover_component__WEBPACK_IMPORTED_MODULE_8__["RatePopoverComponent"],
                            componentProps: {
                                fromUserId: this.currentUser.id,
                                isToDriver: this.ride.userId === this.driver.id,
                                toUser: user,
                            }
                        })];
                    case 1:
                        popover = _a.sent();
                        popover.onDidDismiss().then(function (dataReturned) {
                            if (dataReturned.data) {
                                _this.numberOfUsersNoRated--;
                                if (_this.currentUser.id === _this.driver.id) {
                                    _this.passengers[index].isRated = dataReturned.data;
                                }
                            }
                        });
                        return [4 /*yield*/, popover.present()];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('map'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
    ], RidePage.prototype, "mapElement", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], RidePage.prototype, "ratingNumber", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])
    ], RidePage.prototype, "ratingChange", void 0);
    RidePage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-ride',
            template: __webpack_require__(/*! ./ride.page.html */ "./src/app/pages/tabs/rides/ride/ride.page.html"),
            styles: [__webpack_require__(/*! ./ride.page.scss */ "./src/app/pages/tabs/rides/ride/ride.page.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_user_service__WEBPACK_IMPORTED_MODULE_6__["UserService"],
            _core_services_ride_service__WEBPACK_IMPORTED_MODULE_9__["RideService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"],
            _ionic_native_geolocation_ngx__WEBPACK_IMPORTED_MODULE_2__["Geolocation"],
            _core_services_tracking_service__WEBPACK_IMPORTED_MODULE_5__["TrackingService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavParams"],
            _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["PopoverController"]])
    ], RidePage);
    return RidePage;
}());



/***/ }),

/***/ "./src/app/shared/ui.utils.ts":
/*!************************************!*\
  !*** ./src/app/shared/ui.utils.ts ***!
  \************************************/
/*! exports provided: State, RatingColors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "State", function() { return State; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RatingColors", function() { return RatingColors; });
var State;
(function (State) {
    State["accepted"] = "ACCEPTED";
    State["pending"] = "PENDING";
    State["refused"] = "REFUSED";
})(State || (State = {}));
var RatingColors;
(function (RatingColors) {
    RatingColors["GREY"] = "#E0E0E0";
    RatingColors["GREEN"] = "#76FF03";
    RatingColors["YELLOW"] = "#FFCA28";
    RatingColors["RED"] = "#DD2C00";
})(RatingColors || (RatingColors = {}));


/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false,
    firebase: {
        apiKey: 'AIzaSyDjEInIA_Pcd8KmnmzXuLIEo0X1ZXfsPvk',
        authDomain: 'data-tfm.firebaseapp.com',
        databaseURL: 'https://data-tfm.firebaseio.com',
        projectId: 'data-tfm',
        storageBucket: 'data-tfm.appspot.com',
        messagingSenderId: '570481615866',
        appId: '1:570481615866:web:16e1d016d429c568'
    },
    cloudinaryUploadAddress: 'https://api.cloudinary.com/v1_1/movilidadulpgc/image/upload'
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/moneyba/Desktop/untitled folder/tfm/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map