{"version":3,"sources":["webpack:///./src/app/pages/tabs/profile/rewards-catalog/reward-form/reward-form-page.component.html","webpack:///./src/app/pages/tabs/profile/rewards-catalog/reward-form/reward-form-page.component.scss","webpack:///./src/app/pages/tabs/profile/rewards-catalog/reward-form/reward-form-page.component.ts","webpack:///./src/app/pages/tabs/profile/rewards-catalog/reward-form/reward-form.module.ts"],"names":[],"mappings":"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","file":"pages-tabs-profile-rewards-catalog-reward-form-reward-form-module.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title *ngIf=\\\"!reward?.id\\\">New Reward</ion-title>\\n    <ion-title *ngIf=\\\"reward?.id\\\">Edit Reward</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <form [formGroup]=\\\"rewardForm\\\">\\n    <div class=\\\"reward-photo\\\" padding-top>\\n      <ion-avatar>\\n        <img [src]=\\\"photo\\\" (click)=\\\"uploadNewPhoto()\\\">\\n      </ion-avatar>\\n    </div>\\n    <ion-item>\\n      <ion-label>Display Name</ion-label>\\n      <ion-input formControlName=\\\"name\\\" required></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>Points</ion-label>\\n      <ion-input formControlName=\\\"points\\\" type=\\\"number\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>Stock</ion-label>\\n      <ion-input formControlName=\\\"stock\\\" type=\\\"number\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>Description</ion-label>\\n      <ion-input formControlName=\\\"description\\\"></ion-input>\\n    </ion-item>\\n\\n\\n  </form>\\n\\n</ion-content>\\n<ion-footer >\\n  <ion-button expand=\\\"full\\\" type=\\\"submit\\\" (click)=\\\"createReward()\\\" margin-bottom\\n              [disabled]=\\\"rewardForm.invalid\\\" *ngIf=\\\"!reward?.id\\\">\\n    Save\\n  </ion-button>\\n  <ion-button expand=\\\"full\\\" type=\\\"submit\\\" (click)=\\\"editReward()\\\" margin-bottom\\n              [disabled]=\\\"rewardForm.invalid\\\" *ngIf=\\\"reward?.id\\\">\\n    Save\\n  </ion-button>\\n</ion-footer>\\n\"","module.exports = \".reward-photo ion-avatar {\\n  margin: 0 auto;\\n  width: 200px;\\n  height: 200px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tb25leWJhL0Rlc2t0b3AvdW50aXRsZWQgZm9sZGVyL3RmbS9zcmMvYXBwL3BhZ2VzL3RhYnMvcHJvZmlsZS9yZXdhcmRzLWNhdGFsb2cvcmV3YXJkLWZvcm0vcmV3YXJkLWZvcm0tcGFnZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLGNBQWM7RUFDZCxZQUFZO0VBQ1osYUFBYSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdGFicy9wcm9maWxlL3Jld2FyZHMtY2F0YWxvZy9yZXdhcmQtZm9ybS9yZXdhcmQtZm9ybS1wYWdlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4ucmV3YXJkLXBob3RvIGlvbi1hdmF0YXIge1xuICBtYXJnaW46IDAgYXV0bztcbiAgd2lkdGg6IDIwMHB4O1xuICBoZWlnaHQ6IDIwMHB4O1xufVxuXG4iXX0= */\"","import {Component, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {UtilsService} from '../../../../../core/services/utils.service';\nimport {LoadingService} from '../../../../../core/services/loading.service';\nimport {Camera, CameraOptions} from '@ionic-native/camera/ngx';\nimport {User} from '../../../../../shared/models/User';\nimport {RewardProduct} from '../../../../../shared/models/RewardProduct';\nimport {RewardService} from '../../../../../core/services/reward.service';\nimport {ActivatedRoute, Router} from '@angular/router';\n\n@Component({\n    selector: 'app-reward',\n    templateUrl: './reward-form-page.component.html',\n    styleUrls: ['./reward-form-page.component.scss'],\n})\nexport class RewardFormPage implements OnInit {\n\n    public rewardForm: FormGroup;\n    public photoHasChanged = false;\n    public photo = '/assets/icon/favicon.jpg';\n    private reward: RewardProduct;\n\n    constructor(private utilsService: UtilsService,\n                private loadingService: LoadingService,\n                private camera: Camera,\n                private fb: FormBuilder,\n                private rewardService: RewardService,\n                private route: ActivatedRoute,\n                private router: Router) {\n       this.route.queryParams.subscribe(params => {\n            console.log(params);\n            if (this.router.getCurrentNavigation().extras.state) {\n                this.reward = this.router.getCurrentNavigation().extras.state.reward;\n                this.photo = this.reward ? this.reward.photo : '/assets/icon/favicon.jpg';\n            }\n        });\n    }\n\n    ngOnInit() {\n        this.createRewardForm();\n    }\n\n    public createRewardForm(): void {\n        this.rewardForm = this.fb.group({\n            name: [this.reward ? this.reward.name : null, Validators.required],\n            photo: [this.photo],\n            points: [this.reward ? this.reward.points : null],\n            stock: [this.reward ? this.reward.stock : null],\n            description: [this.reward ? this.reward.description : null]\n        });\n    }\n\n\n    public createReward(): void {\n        const reward: RewardProduct = {\n            name: this.rewardForm.get('name').value,\n            photo: this.rewardForm.get('photo').value,\n            points: this.rewardForm.get('points').value,\n            stock: this.rewardForm.get('stock').value,\n            description: this.rewardForm.get('description').value,\n\n        };\n        this.rewardService.createReward(reward).then(() => {\n            this.router.navigate(['tabs/tabs/profile']);\n        });\n    }\n\n    public editReward(): void {\n        const reward: RewardProduct = {\n            id: this.reward.id,\n            name: this.rewardForm.get('name').value,\n            photo: this.photo,\n            points: this.rewardForm.get('points').value,\n            stock: this.rewardForm.get('stock').value,\n            description: this.rewardForm.get('description').value,\n\n        };\n        this.rewardService.updateReward(reward).then(() => {\n            this.router.navigate(['tabs/tabs/profile']);\n        });\n    }\n\n    public async uploadNewPhoto(): Promise<void> {\n        const cameraOptions: CameraOptions = await this.utilsService.actionSheetCameraOptions();\n        const preview = await this.camera.getPicture(cameraOptions);\n        const base64Image = 'data:image / jpeg;base64,' + preview;\n        this.loadingService.presentLoading();\n        const preset = 'gfllyeot';\n        const url = await this.utilsService.uploadBase64ImageToCloudinary(base64Image, preset);\n        this.loadingService.dissmissLoading();\n        this.photo = url;\n        this.photoHasChanged = true;\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RewardFormPage } from './reward-form-page.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RewardFormPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [RewardFormPage]\n})\nexport class RewardFormPageModule {}\n"],"sourceRoot":""}