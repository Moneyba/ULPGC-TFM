{"version":3,"sources":["webpack:///./src/app/pages/tabs/profile/profile-popover/profile-popover.component.html","webpack:///./src/app/pages/tabs/profile/profile-popover/profile-popover.component.scss","webpack:///./src/app/pages/tabs/profile/profile-popover/profile-popover.component.ts","webpack:///./src/app/pages/tabs/profile/profile.module.ts","webpack:///./src/app/pages/tabs/profile/profile.page.html","webpack:///./src/app/pages/tabs/profile/profile.page.scss","webpack:///./src/app/pages/tabs/profile/profile.page.ts"],"names":[],"mappings":"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","file":"tabs-profile-profile-module.js","sourcesContent":["module.exports = \"<ion-list>\\n  <ion-list-header>Account options</ion-list-header>\\n  <ion-item button (click)=\\\"gotoProfileFormPage()\\\">Edit Profile</ion-item>\\n  <ion-item button (click)=\\\"contact()\\\">Contact us</ion-item>\\n  <ion-item button (click)=\\\"logout()\\\">Logout</ion-item>\\n</ion-list>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3RhYnMvcHJvZmlsZS9wcm9maWxlLXBvcG92ZXIvcHJvZmlsZS1wb3BvdmVyLmNvbXBvbmVudC5zY3NzIn0= */\"","import {Component, OnInit} from '@angular/core';\nimport {NavigationExtras, Router} from '@angular/router';\nimport {NavParams, PopoverController} from '@ionic/angular';\nimport {User} from '../../../../shared/models/User';\nimport {FirebaseAuthentication} from '@ionic-native/firebase-authentication/ngx';\nimport {EmailComposer} from '@ionic-native/email-composer/ngx';\n\n@Component({\n    selector: 'app-profile-popover',\n    templateUrl: './profile-popover.component.html',\n    styleUrls: ['./profile-popover.component.scss'],\n})\nexport class ProfilePopoverComponent implements OnInit {\n\n    public currentUser: User;\n\n    constructor(private router: Router,\n                private navParams: NavParams,\n                private popoverController: PopoverController,\n                private emailComposer: EmailComposer,\n                private firebaseAuthentication: FirebaseAuthentication\n    ) {\n        this.currentUser = this.navParams.data.user;\n    }\n\n    ngOnInit() {\n    }\n\n\n    public gotoProfileFormPage(): void {\n        const navigationExtras: NavigationExtras = {\n            state: {\n                user: this.currentUser\n            }\n        };\n        this.popoverController.dismiss();\n        this.router.navigate(['profile-form'], navigationExtras);\n\n    }\n\n    public logout(): void {\n        this.popoverController.dismiss();\n        this.firebaseAuthentication.signOut();\n        this.router.navigateByUrl('login');\n    }\n\n    private contact(): void {\n        const email = {\n            to: 'moneybahr@gmail.com',\n            isHtml: true\n        };\n        this.emailComposer.open(email);\n    }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfilePage } from './profile.page';\nimport {ProfilePopoverComponent} from './profile-popover/profile-popover.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProfilePage, ProfilePopoverComponent],\n  entryComponents: [ProfilePopoverComponent]\n})\nexport class ProfilePageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title text-center>Profile</ion-title>\\n    <ion-icon id=\\\"icon-more\\\" name=\\\"md-more\\\" slot=\\\"end\\\" (click)=\\\"presentPopover($event)\\\"></ion-icon>\\n  </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div class=\\\"user-photo\\\" padding-top>\\n    <ion-avatar>\\n      <img [src]=\\\"currentUser?.photo || '/assets/icon/favicon.jpg'\\\">\\n    </ion-avatar>\\n  </div>\\n\\n  <ion-list>\\n    <ion-item>\\n      <ion-icon name=\\\"person\\\" slot=\\\"start\\\"></ion-icon>\\n      <ion-label>\\n        <p>Display Name</p>\\n        <h2>{{currentUser?.name}}</h2>\\n      </ion-label>\\n    </ion-item>\\n    <ion-item>\\n      <ion-icon name=\\\"call\\\" slot=\\\"start\\\"></ion-icon>\\n      <ion-label>\\n        <p>Mobile Phone Number</p>\\n        <h2>{{currentUser?.phoneNumber}}</h2>\\n      </ion-label>\\n    </ion-item>\\n    <ion-item (click)=\\\"goToPublicProfilePage()\\\">\\n      <ion-icon name=\\\"star\\\" slot=\\\"start\\\"></ion-icon>\\n      <ion-label>\\n        <p>Rating</p>\\n        <h2 *ngIf=\\\"currentUser?.averageRating\\\">{{currentUser?.averageRating}}/5 - {{currentUser?.numberOfRatings}} ratings</h2>\\n        <h2 *ngIf=\\\"!currentUser?.averageRating\\\">No ratings yet</h2>\\n      </ion-label>\\n      <ion-icon name=\\\"ios-arrow-forward\\\" slot=\\\"end\\\"></ion-icon>\\n    </ion-item>\\n    <ion-item (click)=\\\"gotoRewardsCatalogPage()\\\">\\n      <ion-icon name=\\\"gift\\\" slot=\\\"start\\\"></ion-icon>\\n      <ion-label>\\n        <p>Earned Points</p>\\n        <h2>{{currentUser?.points?.currentPoints}}</h2>\\n      </ion-label>\\n      <ion-icon name=\\\"ios-arrow-forward\\\" slot=\\\"end\\\"></ion-icon>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"currentUser?.carPlate\\\">\\n      <ion-icon name=\\\"car\\\" slot=\\\"start\\\"></ion-icon>\\n      <ion-label>\\n        <p>Car Plate</p>\\n        <h2>{{currentUser?.carPlate}}</h2>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n    <!--<ion-button (click)=\\\"gotoSetup()\\\">Setup</ion-button>-->\\n</ion-content>\\n\"","module.exports = \":host .user-photo ion-avatar {\\n  margin: 0 auto;\\n  width: 120px;\\n  height: 120px; }\\n\\n:host ion-list {\\n  margin-top: 24px;\\n  margin-right: 20px; }\\n\\n:host ion-list p {\\n    font-size: 12px;\\n    font-weight: 400;\\n    padding-bottom: 4px; }\\n\\n:host ion-list h2 {\\n    font-weight: 400;\\n    opacity: .5; }\\n\\n:host #icon-more {\\n  font-size: 20px;\\n  margin-right: 5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tb25leWJhL0Rlc2t0b3AvdW50aXRsZWQgZm9sZGVyL3RmbS9zcmMvYXBwL3BhZ2VzL3RhYnMvcHJvZmlsZS9wcm9maWxlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVJLGNBQWM7RUFDZCxZQUFZO0VBQ1osYUFBYSxFQUFBOztBQUpqQjtFQVFJLGdCQUFnQjtFQUNoQixrQkFBa0IsRUFBQTs7QUFUdEI7SUFXTSxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLG1CQUFtQixFQUFBOztBQWJ6QjtJQWdCTSxnQkFBZ0I7SUFDaEIsV0FBVyxFQUFBOztBQWpCakI7RUFzQkksZUFBZTtFQUNmLGlCQUFpQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdGFicy9wcm9maWxlL3Byb2ZpbGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAudXNlci1waG90byBpb24tYXZhdGFyIHtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICB3aWR0aDogMTIwcHg7XG4gICAgaGVpZ2h0OiAxMjBweDtcbiAgfVxuXG4gIGlvbi1saXN0IHtcbiAgICBtYXJnaW4tdG9wOiAyNHB4O1xuICAgIG1hcmdpbi1yaWdodDogMjBweDtcbiAgICBwIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogNHB4O1xuICAgIH07XG4gICAgaDIge1xuICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgIG9wYWNpdHk6IC41O1xuICAgIH1cbiAgfVxuXG4gICNpY29uLW1vcmV7XG4gICAgZm9udC1zaXplOiAyMHB4O1xuICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICB9XG59XG4iXX0= */\"","import {Component, OnInit} from '@angular/core';\nimport {UserService} from '../../../core/services/user.service';\nimport {User} from '../../../shared/models/User';\nimport {NavigationExtras, Router} from '@angular/router';\nimport {ModalController, PopoverController} from '@ionic/angular';\nimport {ProfilePopoverComponent} from './profile-popover/profile-popover.component';\n\n@Component({\n    selector: 'app-profile',\n    templateUrl: './profile.page.html',\n    styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit {\n    public currentUser: User;\n\n    public constructor(\n\n        private userService: UserService,\n        private router: Router,\n        public popoverController: PopoverController\n\n    ) { this.currentUser = this.userService.user.getValue();\n\n    }\n\n    public ngOnInit(): void {\n        console.log(this.currentUser);\n    }\n\n    ionViewWillEnter() {\n        this.currentUser = this.userService.user.getValue();\n    }\n\n    public goToPublicProfilePage(): void {\n        const navigationExtras: NavigationExtras = {\n            state: {\n                userId: this.currentUser.id\n            }\n        };\n        this.router.navigate(['public-profile'], navigationExtras);\n    }\n\n    public gotoRatingsPage(): void {\n        const navigationExtras: NavigationExtras = {\n            state: {\n                user: this.currentUser\n            }\n        };\n        this.router.navigate(['ratings'], navigationExtras);\n    }\n\n    public gotoRewardsCatalogPage(): void {\n        const navigationExtras: NavigationExtras = {\n            state: {\n                user: this.currentUser\n            }\n        };\n        this.router.navigate(['rewards-catalog'], navigationExtras);\n    }\n\n  /*  public gotoSetup(): void {\n        const navigationExtras: NavigationExtras = {\n            state: {\n                user: this.currentUser\n            }\n        };\n        this.router.navigate(['initial-setup'], navigationExtras);\n    }*/\n\n    public async presentPopover(event: any) {\n        const popover = await this.popoverController.create({\n            component: ProfilePopoverComponent,\n            event,\n            componentProps: {\n                user: this.currentUser\n            }\n\n        });\n        return await popover.present();\n    }\n}\n"],"sourceRoot":""}