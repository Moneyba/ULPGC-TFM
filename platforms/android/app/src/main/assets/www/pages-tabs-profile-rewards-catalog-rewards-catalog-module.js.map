{"version":3,"sources":["webpack:///./src/app/pages/tabs/profile/rewards-catalog/rewards-catalog.module.ts","webpack:///./src/app/pages/tabs/profile/rewards-catalog/rewards-catalog.page.html","webpack:///./src/app/pages/tabs/profile/rewards-catalog/rewards-catalog.page.scss","webpack:///./src/app/pages/tabs/profile/rewards-catalog/rewards-catalog.page.ts"],"names":[],"mappings":"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","file":"pages-tabs-profile-rewards-catalog-rewards-catalog-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RewardsCatalogPage } from './rewards-catalog.page';\nimport {TranslateModule} from '@ngx-translate/core';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RewardsCatalogPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [RewardsCatalogPage]\n})\nexport class RewardsCatalogPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title>{{ 'REWARDS.rewards' | translate:params }}</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"points-button-container\\\">\\n    <ion-button text-center fill=clear (click)=\\\"changePointsBoxState()\\\">\\n      <ion-card-title>{{currentUser.points.currentPoints}}<span id=\\\"pts\\\"> pts</span></ion-card-title>\\n\\n        <ion-icon name=\\\"arrow-dropdown\\\" *ngIf=\\\"!showSearchContainer\\\"></ion-icon>\\n        <ion-icon name=\\\"arrow-dropup\\\" *ngIf=\\\"showSearchContainer\\\"></ion-icon>\\n\\n    </ion-button>\\n  </div>\\n  <div [hidden]=\\\"!showSearchContainer\\\" class=\\\"points-container\\\">\\n    <ion-item>\\n      <ion-label>{{ 'REWARDS.earned' | translate:params }}:\\n        {{currentUser.points.currentPoints + currentUser.points.blockedPoints + currentUser.points.exchangedPoints}} pts</ion-label>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>{{ 'REWARDS.used' | translate:params }}: {{currentUser.points.exchangedPoints}} pts</ion-label>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>{{ 'REWARDS.onHold' | translate:params }}: {{currentUser.points.blockedPoints}} pts</ion-label>\\n    </ion-item>\\n  </div>\\n  <ion-list *ngFor=\\\"let reward of rewards\\\" class=\\\"list-rewards\\\">\\n    <ion-item-sliding>\\n      <ion-item (click)=\\\"goToRewardDetailsPage (reward)\\\" class=\\\"chat-item\\\">\\n        <ion-avatar slot=\\\"start\\\">\\n          <img [src]=\\\"reward.photo\\\">\\n        </ion-avatar>\\n        <ion-label>\\n          <h3>{{reward.name}}</h3>\\n          <p>{{ 'REWARDS.exchange' | translate:params }} {{reward.points}} pts</p>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item-options *ngIf=\\\"currentUser?.isAdmin\\\"  side=\\\"end\\\">\\n        <ion-item-option color=\\\"success\\\" (click)=\\\"editReward(reward)\\\">\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"create\\\"></ion-icon>\\n        </ion-item-option>\\n        <ion-item-option color=\\\"danger\\\" (click)=\\\"presentAlertConfirm(reward.id)\\\">\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n        </ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n  <ion-fab *ngIf=\\\"currentUser?.isAdmin\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"addReward()\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\"","module.exports = \".points-button-container {\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-justify-content: center;\\n          justify-content: center;\\n  height: auto;\\n  margin-top: 20px; }\\n  .points-button-container ion-card-title {\\n    font-size: 35px; }\\n  .points-button-container ion-card-title #pts {\\n      text-transform: lowercase;\\n      font-size: 18px; }\\n  .points-container {\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-flex-direction: column;\\n          flex-direction: column;\\n  margin: 0 20px; }\\n  .list-rewards {\\n  margin-right: 20px;\\n  margin-left: 10px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tb25leWJhL0Rlc2t0b3AvdW50aXRsZWQgZm9sZGVyL3RmbS9zcmMvYXBwL3BhZ2VzL3RhYnMvcHJvZmlsZS9yZXdhcmRzLWNhdGFsb2cvcmV3YXJkcy1jYXRhbG9nLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFhO0VBQWIsYUFBYTtFQUNiLCtCQUF1QjtVQUF2Qix1QkFBdUI7RUFDdkIsWUFBWTtFQUNaLGdCQUFnQixFQUFBO0VBSmxCO0lBTUksZUFBZSxFQUFBO0VBTm5CO01BUU0seUJBQXlCO01BQ3pCLGVBQWUsRUFBQTtFQUtyQjtFQUNFLHFCQUFhO0VBQWIsYUFBYTtFQUNiLDhCQUFzQjtVQUF0QixzQkFBc0I7RUFDdEIsY0FBYyxFQUFBO0VBR2hCO0VBQ0Usa0JBQWtCO0VBQ2xCLGlCQUFpQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdGFicy9wcm9maWxlL3Jld2FyZHMtY2F0YWxvZy9yZXdhcmRzLWNhdGFsb2cucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBvaW50cy1idXR0b24tY29udGFpbmVye1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgaGVpZ2h0OiBhdXRvO1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuICBpb24tY2FyZC10aXRsZXtcbiAgICBmb250LXNpemU6IDM1cHg7XG4gICAgI3B0cyB7XG4gICAgICB0ZXh0LXRyYW5zZm9ybTogbG93ZXJjYXNlO1xuICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgIH1cbiAgfVxufVxuXG4ucG9pbnRzLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG1hcmdpbjogMCAyMHB4O1xufVxuXG4ubGlzdC1yZXdhcmRze1xuICBtYXJnaW4tcmlnaHQ6IDIwcHg7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport {User} from '../../../../shared/models/User';\nimport {ActivatedRoute, NavigationExtras, Router} from '@angular/router';\nimport {RewardProduct} from '../../../../shared/models/RewardProduct';\nimport {RewardService} from '../../../../core/services/reward.service';\nimport {AlertController} from '@ionic/angular';\n\n@Component({\n  selector: 'app-rewards-catalog',\n  templateUrl: './rewards-catalog.page.html',\n  styleUrls: ['./rewards-catalog.page.scss'],\n})\nexport class RewardsCatalogPage implements OnInit {\n  public showSearchContainer = false;\n  public currentUser: User;\n  public rewards: RewardProduct[];\n\n  constructor(\n      private router: Router,\n      private route: ActivatedRoute,\n      private rewardService: RewardService,\n      private alertController: AlertController\n  ) {\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.currentUser = this.router.getCurrentNavigation().extras.state.user;\n        console.log(this.currentUser);\n      }\n    });\n    this.getRewards();\n  }\n\n  ngOnInit() {\n  }\n\n  private getRewards(): void {\n    this.rewardService.getRewards().subscribe(rewards => this.rewards = rewards);\n  }\n\n\n  public changePointsBoxState(): void {\n    this.showSearchContainer = !this.showSearchContainer;\n  }\n\n  public goToRewardDetailsPage(reward: RewardProduct): void {\n    const navigationExtras: NavigationExtras = {\n      state: {\n        reward,\n        user: this.currentUser\n      }\n    };\n    this.router.navigate(['reward-details'], navigationExtras);\n  }\n\n  public addReward(): void {\n    this.router.navigateByUrl('reward-form');\n  }\n\n  public editReward(reward: RewardProduct): void {\n    const navigationExtras: NavigationExtras = {\n      state: {\n        reward\n      }\n    };\n    this.router.navigate(['reward-form'], navigationExtras);\n  }\n\n\n  public   async presentAlertConfirm(rewardId: string) {\n    const alert = await this.alertController.create({\n      header: 'Eliminar Recompensa',\n      message: '¿Estás seguro de que quiere eliminar este producto?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n          }\n        }, {\n          text: 'Sí',\n          handler: () => {\n            this.rewardService.deleteReward(rewardId);\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n}\n"],"sourceRoot":""}